<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3545.1590891168403" height="4926.175845328504"><desc>sequenceDiagram%0A%20%20%20%20actor%20User%0A%20%20%20%20participant%20API%20as%20Express%20API%0A%20%20%20%20participant%20AuthCtrl%20as%20AuthController%0A%20%20%20%20participant%20AuthService%20as%20AuthService%0A%20%20%20%20participant%20Bcrypt%20as%20Bcrypt%0A%20%20%20%20participant%20JWT%20as%20JsonWebToken%0A%20%20%20%20participant%20Prisma%20as%20Prisma%20ORM%0A%20%20%20%20participant%20DB%20as%20PostgreSQL%0A%0A%20%20%20%20rect%20rgb(200%2C%20220%2C%20250)%0A%20%20%20%20Note%20over%20User%2CDB%3A%20INSCRIPTION%20(REGISTER)%0A%20%20%20%20User-%3E%3EAPI%3A%20POST%20%2Fapi%2Fauth%2Fregister%0A%20%20%20%20Note%20over%20User%2CAPI%3A%20Body%3A%20%7B%20email%2C%20password%2C%20first_name%2C%20last_name%2C%20...%20%7D%0A%20%20%20%20%0A%20%20%20%20API-%3E%3EAuthCtrl%3A%20register(req%2C%20res)%0A%20%20%20%20AuthCtrl-%3E%3EAuthService%3A%20registerUser(userData)%0A%20%20%20%20%0A%20%20%20%20AuthService-%3E%3EPrisma%3A%20prisma.customer.findUnique(%7B%20where%3A%20%7B%20email%20%7D%20%7D)%0A%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20customers%20WHERE%20email%20%3D%20%3F%0A%20%20%20%20%0A%20%20%20%20alt%20Email%20existe%20d%C3%A9j%C3%A0%0A%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Customer%20found%0A%20%20%20%20%20%20%20%20Prisma--%3E%3EAuthService%3A%20Customer%20exists%0A%20%20%20%20%20%20%20%20AuthService--%3E%3EAuthCtrl%3A%20EmailExistsError%0A%20%20%20%20%20%20%20%20AuthCtrl--%3E%3EUser%3A%20409%20Conflict%0A%20%20%20%20else%20Email%20disponible%0A%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20null%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20AuthService-%3E%3EBcrypt%3A%20hash(password%2C%20saltRounds%3A%2010)%0A%20%20%20%20%20%20%20%20Bcrypt--%3E%3EAuthService%3A%20hashedPassword%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20AuthService-%3E%3EPrisma%3A%20prisma.customer.create(%7B%20data%3A%20%7B...%2C%20password%3A%20hashed%7D%20%7D)%0A%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20INSERT%20INTO%20customers%20(...)%0A%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Customer%20created%20(id%3A%201)%0A%20%20%20%20%20%20%20%20Prisma--%3E%3EAuthService%3A%20Customer%20object%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20AuthService-%3E%3EJWT%3A%20sign(%7B%20userId%2C%20email%20%7D%2C%20SECRET%2C%20%7B%20expiresIn%3A%20'7d'%20%7D)%0A%20%20%20%20%20%20%20%20JWT--%3E%3EAuthService%3A%20token%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20AuthService--%3E%3EAuthCtrl%3A%20%7B%20customer%2C%20token%20%7D%0A%20%20%20%20%20%20%20%20AuthCtrl--%3E%3EUser%3A%20201%20Created%20%2B%20%7B%20customer%2C%20token%20%7D%0A%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20rect%20rgb(250%2C%20220%2C%20200)%0A%20%20%20%20Note%20over%20User%2CDB%3A%20CONNEXION%20(LOGIN)%0A%20%20%20%20User-%3E%3EAPI%3A%20POST%20%2Fapi%2Fauth%2Flogin%0A%20%20%20%20Note%20over%20User%2CAPI%3A%20Body%3A%20%7B%20email%2C%20password%20%7D%0A%20%20%20%20%0A%20%20%20%20API-%3E%3EAuthCtrl%3A%20login(req%2C%20res)%0A%20%20%20%20AuthCtrl-%3E%3EAuthService%3A%20loginUser(email%2C%20password)%0A%20%20%20%20%0A%20%20%20%20AuthService-%3E%3EPrisma%3A%20prisma.customer.findUnique(%7B%20where%3A%20%7B%20email%20%7D%20%7D)%0A%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20customers%20WHERE%20email%20%3D%20%3F%0A%20%20%20%20%0A%20%20%20%20alt%20Customer%20non%20trouv%C3%A9%0A%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20null%0A%20%20%20%20%20%20%20%20Prisma--%3E%3EAuthService%3A%20null%0A%20%20%20%20%20%20%20%20AuthService--%3E%3EAuthCtrl%3A%20InvalidCredentialsError%0A%20%20%20%20%20%20%20%20AuthCtrl--%3E%3EUser%3A%20401%20Unauthorized%0A%20%20%20%20else%20Customer%20trouv%C3%A9%0A%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Customer%20with%20hashed%20password%0A%20%20%20%20%20%20%20%20Prisma--%3E%3EAuthService%3A%20Customer%20object%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20AuthService-%3E%3EBcrypt%3A%20compare(password%2C%20hashedPassword)%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20alt%20Mot%20de%20passe%20incorrect%0A%20%20%20%20%20%20%20%20%20%20%20%20Bcrypt--%3E%3EAuthService%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20AuthService--%3E%3EAuthCtrl%3A%20InvalidCredentialsError%0A%20%20%20%20%20%20%20%20%20%20%20%20AuthCtrl--%3E%3EUser%3A%20401%20Unauthorized%0A%20%20%20%20%20%20%20%20else%20Mot%20de%20passe%20correct%0A%20%20%20%20%20%20%20%20%20%20%20%20Bcrypt--%3E%3EAuthService%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20AuthService-%3E%3EJWT%3A%20sign(%7B%20userId%2C%20email%20%7D%2C%20SECRET%2C%20%7B%20expiresIn%3A%20'7d'%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20JWT--%3E%3EAuthService%3A%20token%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20AuthService--%3E%3EAuthCtrl%3A%20%7B%20customer%2C%20token%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20AuthCtrl--%3E%3EUser%3A%20200%20OK%20%2B%20%7B%20customer%2C%20token%20%7D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20rect%20rgb(220%2C%20250%2C%20220)%0A%20%20%20%20Note%20over%20User%2CDB%3A%20ACC%C3%88S%20ROUTE%20PROT%C3%89G%C3%89E%0A%20%20%20%20User-%3E%3EAPI%3A%20GET%20%2Fapi%2Forders%2Fmy-orders%0A%20%20%20%20Note%20over%20User%2CAPI%3A%20Header%3A%20Authorization%3A%20Bearer%20%3Ctoken%3E%0A%20%20%20%20%0A%20%20%20%20API-%3E%3EAuthCtrl%3A%20authMiddleware(req%2C%20res%2C%20next)%0A%20%20%20%20AuthCtrl-%3E%3EJWT%3A%20verify(token%2C%20SECRET)%0A%20%20%20%20%0A%20%20%20%20alt%20Token%20invalide%2Fexpir%C3%A9%0A%20%20%20%20%20%20%20%20JWT--%3E%3EAuthCtrl%3A%20JsonWebTokenError%0A%20%20%20%20%20%20%20%20AuthCtrl--%3E%3EUser%3A%20401%20Unauthorized%0A%20%20%20%20else%20Token%20valide%0A%20%20%20%20%20%20%20%20JWT--%3E%3EAuthCtrl%3A%20decoded%20%7B%20userId%2C%20email%20%7D%0A%20%20%20%20%20%20%20%20AuthCtrl-%3E%3EPrisma%3A%20prisma.customer.findUnique(%7B%20where%3A%20%7B%20id%3A%20userId%20%7D%20%7D)%0A%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20customers%20WHERE%20id%20%3D%20%3F%0A%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Customer%20data%0A%20%20%20%20%20%20%20%20Prisma--%3E%3EAuthCtrl%3A%20Customer%20object%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20Note%20over%20AuthCtrl%3A%20req.user%20%3D%20customer%0A%20%20%20%20%20%20%20%20AuthCtrl-%3E%3EAPI%3A%20next()%0A%20%20%20%20%20%20%20%20API-%3E%3EAPI%3A%20Route%20handler%20ex%C3%A9cut%C3%A9%0A%20%20%20%20%20%20%20%20API--%3E%3EUser%3A%20200%20OK%20%2B%20Orders%20data%0A%20%20%20%20end%0A%20%20%20%20end</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="3545" height="4926"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.13199855000002 142.09742039850002 L 145.13199855000002 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 283.1077681278829 142.09742039850002 L 283.1077681278829 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 515.8617305097071 142.09742039850002 L 515.8617305097071 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 775.5125968832306 142.09742039850002 L 775.5125968832306 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1003.3774982909338 142.09742039850002 L 1003.3774982909338 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1217.244581705473 142.09742039850002 L 1217.244581705473 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1454.3149655960863 142.09742039850002 L 1454.3149655960863 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1676.4533502801567 142.09742039850002 L 1676.4533502801567 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1833.8422919100278 142.09742039850002 L 1833.8422919100278 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 142.09742039850002 L 2103.02096701784 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 142.09742039850002 L 2350.997066442059 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 142.09742039850002 L 2787.240835544012 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 142.09742039850002 L 3165.9399574291683 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3280.544368419391 142.09742039850002 L 3280.544368419391 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.0270905668403 142.09742039850002 L 3400.0270905668403 4926.175845328504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 160.17295112700003 30.477719695500014 A 15.040952577 15.040952577 0 1 1 160.17294360652437 30.46267874542983" stroke-miterlimit="10" stroke-width="4.485898137" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.13199855000002 45.51867227250001 L 145.13199855000002 77.7115883145 M 126.13290055800002 57.12923215650002 L 164.13109654200002 57.12923215650002 M 145.13199855000002 77.7115883145 L 126.13290055800002 107.79349346850002 M 145.13199855000002 77.7115883145 L 164.13109654200002 107.79349346850002" stroke-miterlimit="10" stroke-width="4.485898137"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="129.65598536640627" y="134.1811295685" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 190.51873264200006 70.85080292850002 L 375.6968036137657 70.85080292850002 L 375.6968036137657 142.09742039850002 L 190.51873264200006 142.09742039850002 L 190.51873264200006 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="219.14931781050007" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API as Express API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 402.0844397137656 70.85080292850002 L 629.6390213056484 70.85080292850002 L 629.6390213056484 142.09742039850002 L 402.0844397137656 142.09742039850002 L 402.0844397137656 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="430.71502488226565" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthCtrl as AuthController</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 656.0266574056485 70.85080292850002 L 894.9985363608125 70.85080292850002 L 894.9985363608125 142.09742039850002 L 656.0266574056485 142.09742039850002 L 656.0266574056485 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="684.6572425741485" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthService as AuthService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 921.3861724608126 70.85080292850002 L 1085.3688241210548 70.85080292850002 L 1085.3688241210548 142.09742039850002 L 921.3861724608126 142.09742039850002 L 921.3861724608126 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="950.0167576293127" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Bcrypt as Bcrypt</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1111.756460221055 70.85080292850002 L 1322.732703189891 70.85080292850002 L 1322.732703189891 142.09742039850002 L 1111.756460221055 142.09742039850002 L 1111.756460221055 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1140.387045389555" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">JWT as JsonWebToken</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1349.120339289891 70.85080292850002 L 1559.5095919022817 70.85080292850002 L 1559.5095919022817 142.09742039850002 L 1349.120339289891 142.09742039850002 L 1349.120339289891 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1377.750924458391" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Prisma as Prisma ORM</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1585.8972280022817 70.85080292850002 L 1767.0094725580318 70.85080292850002 L 1767.0094725580318 142.09742039850002 L 1585.8972280022817 142.09742039850002 L 1585.8972280022817 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1614.5278131707817" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB as PostgreSQL</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1793.3971086580318 70.85080292850002 L 1874.287475162024 70.85080292850002 L 1874.287475162024 142.09742039850002 L 1793.3971086580318 142.09742039850002 L 1793.3971086580318 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1822.0276938265317" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2047.9122248058832 70.85080292850002 L 2158.1297092297973 70.85080292850002 L 2158.1297092297973 142.09742039850002 L 2047.9122248058832 142.09742039850002 L 2047.9122248058832 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2076.542809974383" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthCtrl</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2282.846103160766 70.85080292850002 L 2419.1480297233516 70.85080292850002 L 2419.1480297233516 142.09742039850002 L 2282.846103160766 142.09742039850002 L 2282.846103160766 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2311.476688329266" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2735.8042506196525 70.85080292850002 L 2838.677420468371 70.85080292850002 L 2838.677420468371 142.09742039850002 L 2735.8042506196525 142.09742039850002 L 2735.8042506196525 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2764.4348357881527" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Prisma</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3127.126838996508 70.85080292850002 L 3204.753075861828 70.85080292850002 L 3204.753075861828 142.09742039850002 L 3127.126838996508 142.09742039850002 L 3127.126838996508 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3155.757424165008" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3231.1407119618284 70.85080292850002 L 3329.9480248769532 70.85080292850002 L 3329.9480248769532 142.09742039850002 L 3231.1407119618284 142.09742039850002 L 3231.1407119618284 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3259.7712971303285" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Bcrypt</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3356.3356609769535 70.85080292850002 L 3443.7185201567268 70.85080292850002 L 3443.7185201567268 142.09742039850002 L 3356.3356609769535 142.09742039850002 L 3356.3356609769535 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3384.9662461454536" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">JWT</text></g></g><g><g><rect fill="white" stroke="none" x="908.9363255596429" y="194.8726925985" width="161.1016393407422" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="912.8944709746429" y="218.6215650885" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/auth/register</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.13199855000002 229.17661952850003 L 1830.5438373975278 229.17661952850003" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(1833.8422919100278,229.17661952850003) translate(-1833.8422919100278,-229.17661952850003)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1811.2345894450946 219.09113128249294 L 1831.3702690502942 229.17661952850003 L 1811.2345894450946 239.26210777450711" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1910.3002967930745" y="268.75807367850007" width="116.26266534171874" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1914.2584422080745" y="292.50694616850006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">register(req, res)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1833.8422919100278 303.06200060850006 L 2099.72251250534 303.06200060850006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2103.02096701784,303.06200060850006) translate(-2103.02096701784,-303.06200060850006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2080.4132645529066 292.97651236249294 L 2100.548944158106 303.06200060850006 L 2080.4132645529066 313.1474888545072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2148.5090393447344" y="342.64345475850007" width="156.9999547704297" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2152.4671847597347" y="366.39232724850007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">registerUser(userData)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 376.94738168850006 L 2347.698611929559 376.94738168850006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2350.997066442059,376.94738168850006) translate(-2350.997066442059,-376.94738168850006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2328.3893639771254 366.86189344249294 L 2348.525043582325 376.94738168850006 L 2328.3893639771254 387.0328699345072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2409.9353798578204" y="416.5288358385001" width="318.36715752921873" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2413.8935252728206" y="440.27770832850007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.customer.findUnique({ where: { email } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 450.83276276850006 L 2783.942381031512 450.83276276850006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2787.240835544012,450.83276276850006) translate(-2787.240835544012,-450.83276276850006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2764.6331330790786 440.74727452249294 L 2784.768812684278 450.83276276850006 L 2764.6331330790786 460.9182510145072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2818.466204929012" y="490.4142169185" width="316.24838311515623" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2822.424350344012" y="514.1630894085" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM customers WHERE email = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 524.7181438485001 L 3162.6415029166683 524.7181438485001" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3165.9399574291683,524.7181438485001) translate(-3165.9399574291683,-524.7181438485001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3143.332254964235 514.6326556024931 L 3163.4679345694344 524.7181438485001 L 3143.332254964235 534.8036320945071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2920.481227206844" y="635.5462154685001" width="112.21833855949218" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2924.439372621844" y="659.2950879585002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer found</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 669.8501423985001 L 2790.539290056512 669.8501423985001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2787.240835544012,669.8501423985001) translate(-2787.240835544012,-669.8501423985001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2809.8485380089455 659.7646541524931 L 2789.712858403746 669.8501423985001 L 2809.8485380089455 679.9356306445071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2512.6160896966876" y="709.4315965485001" width="113.0057225926953" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2516.574235111688" y="733.1804690385002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer exists</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 743.7355234785001 L 2354.295520954559 743.7355234785001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,743.7355234785001) translate(-2350.997066442059,-743.7355234785001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 733.6500352324931 L 2353.469089301793 743.7355234785001 L 2373.6047689069924 753.8210117245071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2168.8848404311602" y="783.3169776285001" width="116.24835259757812" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2172.8429858461604" y="807.0658501185002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EmailExistsError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 817.6209045585001 L 2106.31942153034 817.6209045585001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,817.6209045585001) translate(-2103.02096701784,-817.6209045585001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 807.5354163124931 L 2105.492989877574 817.6209045585001 L 2125.6286694827736 827.7063928045071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1081.4104058503654" y="857.2023587085001" width="85.33215386710937" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1085.3685512653653" y="880.9512311985002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">409 Conflict</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 891.5062856385001 L 148.43045306250002 891.5062856385001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,891.5062856385001) translate(-145.13199855000002,-891.5062856385001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 881.4207973924931 L 147.6040214097338 891.5062856385001 L 167.73970101493347 901.5917738845071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2961.22209482159" y="1002.3343572585001" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2965.18024023659" y="1026.0832297485001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 1036.6382841885002 L 2790.539290056512 1036.6382841885002" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2787.240835544012,1036.6382841885002) translate(-2787.240835544012,-1036.6382841885002)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2809.8485380089455 1026.552795942493 L 2789.712858403746 1036.6382841885002 L 2809.8485380089455 1046.7237724345073" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2706.694507135354" y="1076.2197383385003" width="218.1524205907422" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2710.652652550354" y="1099.9686108285002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">hash(password, saltRounds: 10)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 1110.5236652685003 L 3277.245913906891 1110.5236652685003" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3280.544368419391,1110.5236652685003) translate(-3280.544368419391,-1110.5236652685003)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3257.9366659544576 1100.4381770224932 L 3278.072345559657 1110.5236652685003 L 3257.9366659544576 1120.6091535145074" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2755.581386102639" y="1150.1051194185004" width="120.37866265617187" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2759.5395315176393" y="1173.8539919085003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">hashedPassword</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3280.544368419391 1184.4090463485004 L 2354.295520954559 1184.4090463485004" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,1184.4090463485004) translate(-2350.997066442059,-1184.4090463485004)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 1174.3235581024933 L 2353.469089301793 1184.4090463485004 L 2373.6047689069924 1194.4945345945075" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2382.2224358270587" y="1223.9905004985005" width="373.792999814375" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2386.180581242059" y="1247.7393729885005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.customer.create({ data: {..., password: hashed} })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 1258.2944274285005 L 2783.942381031512 1258.2944274285005" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2787.240835544012,1258.2944274285005) translate(-2787.240835544012,-1258.2944274285005)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2764.6331330790786 1248.2089391824934 L 2784.768812684278 1258.2944274285005 L 2764.6331330790786 1268.3799156745076" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2877.6000473972736" y="1297.8758815785006" width="197.98069817863282" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2881.558192812274" y="1321.6247540685006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">INSERT INTO customers (...)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 1332.1798085085006 L 3162.6415029166683 1332.1798085085006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3165.9399574291683,1332.1798085085006) translate(-3165.9399574291683,-1332.1798085085006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3143.332254964235 1322.0943202624935 L 3163.4679345694344 1332.1798085085006 L 3143.332254964235 1342.2652967545077" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2893.602221774715" y="1371.7612626585008" width="165.97634942375" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2897.560367189715" y="1395.5101351485007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer created (id: 1)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 1406.0651895885007 L 2790.539290056512 1406.0651895885007" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2787.240835544012,1406.0651895885007) translate(-2787.240835544012,-1406.0651895885007)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2809.8485380089455 1395.9797013424936 L 2789.712858403746 1406.0651895885007 L 2809.8485380089455 1416.1506778345079" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2511.792893285555" y="1445.6466437385009" width="114.65211541496093" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2515.751038700555" y="1469.3955162285008" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 1479.9505706685009 L 2354.295520954559 1479.9505706685009" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,1479.9505706685009) translate(-2350.997066442059,-1479.9505706685009)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 1469.8650824224937 L 2353.469089301793 1479.9505706685009 L 2373.6047689069924 1490.036058914508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2711.493149703219" y="1519.532024818501" width="328.03781182609373" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2715.451295118219" y="1543.280897308501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">sign({ userId, email }, SECRET, { expiresIn: '7d' })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 1553.835951748501 L 3396.7286360543403 1553.835951748501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3400.0270905668403,1553.835951748501) translate(-3400.0270905668403,-1553.835951748501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3377.419388101907 1543.7504635024939 L 3397.5550677071064 1553.835951748501 L 3377.419388101907 1563.921439994508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2853.622658675387" y="1593.417405898501" width="43.778839658125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2857.580804090387" y="1617.166278388501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.0270905668403 1627.721332828501 L 2354.295520954559 1627.721332828501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,1627.721332828501) translate(-2350.997066442059,-1627.721332828501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 1617.635844582494 L 2353.469089301793 1627.721332828501 L 2373.6047689069924 1637.8068210745082" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2162.338652076668" y="1667.3027869785012" width="129.3407293065625" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2166.2967974916683" y="1691.0516594685012" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{ customer, token }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 1701.6067139085012 L 2106.31942153034 1701.6067139085012" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,1701.6067139085012) translate(-2103.02096701784,-1701.6067139085012)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 1691.521225662494 L 2105.492989877574 1701.6067139085012 L 2125.6286694827736 1711.6922021545083" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1010.7089211701896" y="1741.1881680585013" width="226.73512322746095" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1014.6670665851896" y="1764.9370405485013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">201 Created + { customer, token }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 1775.4920949885013 L 148.43045306250002 1775.4920949885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,1775.4920949885013) translate(-145.13199855000002,-1775.4920949885013)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 1765.4066067424942 L 147.6040214097338 1775.4920949885013 L 167.73970101493347 1785.5775832345084" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="917.8912205791742" y="1854.6550032885013" width="143.1918493016797" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="921.8493659941741" y="1878.4038757785013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/auth/login</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.13199855000002 1888.9589302185013 L 1830.5438373975278 1888.9589302185013" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(1833.8422919100278,1888.9589302185013) translate(-1833.8422919100278,-1888.9589302185013)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1811.2345894450946 1878.8734419724942 L 1831.3702690502942 1888.9589302185013 L 1811.2345894450946 1899.0444184645085" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1919.2551918126057" y="1928.5403843685015" width="98.35287530265624" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1923.2133372276057" y="1952.2892568585014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">login(req, res)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1833.8422919100278 1962.8443112985015 L 2099.72251250534 1962.8443112985015" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2103.02096701784,1962.8443112985015) translate(-2103.02096701784,-1962.8443112985015)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2080.4132645529066 1952.7588230524943 L 2100.548944158106 1962.8443112985015 L 2080.4132645529066 1972.9297995445086" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2134.24633640284" y="2002.4257654485016" width="185.52536065421876" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2138.20448181784" y="2026.1746379385015" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loginUser(email, password)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 2036.7296923785016 L 2347.698611929559 2036.7296923785016" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2350.997066442059,2036.7296923785016) translate(-2350.997066442059,-2036.7296923785016)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2328.3893639771254 2026.6442041324945 L 2348.525043582325 2036.7296923785016 L 2328.3893639771254 2046.8151806245087" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2409.9353798578204" y="2076.3111465285015" width="318.36715752921873" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2413.8935252728206" y="2100.0600190185014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.customer.findUnique({ where: { email } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 2110.6150734585017 L 2783.942381031512 2110.6150734585017" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2787.240835544012,2110.6150734585017) translate(-2787.240835544012,-2110.6150734585017)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2764.6331330790786 2100.5295852124946 L 2784.768812684278 2110.6150734585017 L 2764.6331330790786 2120.700561704509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2818.466204929012" y="2150.1965276085016" width="316.24838311515623" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2822.424350344012" y="2173.9454000985015" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM customers WHERE email = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 2184.500454538502 L 3162.6415029166683 2184.500454538502" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3165.9399574291683,2184.500454538502) translate(-3165.9399574291683,-2184.500454538502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3143.332254964235 2174.4149662924947 L 3163.4679345694344 2184.500454538502 L 3143.332254964235 2194.585942784509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2961.22209482159" y="2295.3285261585015" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2965.18024023659" y="2319.0773986485015" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 2329.6324530885017 L 2790.539290056512 2329.6324530885017" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2787.240835544012,2329.6324530885017) translate(-2787.240835544012,-2329.6324530885017)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2809.8485380089455 2319.5469648424946 L 2789.712858403746 2329.6324530885017 L 2809.8485380089455 2339.717941334509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2553.7506493280353" y="2369.2139072385016" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2557.7087947430355" y="2392.9627797285016" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 2403.517834168502 L 2354.295520954559 2403.517834168502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,2403.517834168502) translate(-2350.997066442059,-2403.517834168502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 2393.4323459224947 L 2353.469089301793 2403.517834168502 L 2373.6047689069924 2413.603322414509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2148.498304786629" y="2443.0992883185017" width="157.02142388664063" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2152.456450201629" y="2466.8481608085017" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">InvalidCredentialsError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 2477.403215248502 L 2106.31942153034 2477.403215248502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,2477.403215248502) translate(-2103.02096701784,-2477.403215248502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 2467.317727002495 L 2105.492989877574 2477.403215248502 L 2125.6286694827736 2487.488703494509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1062.2515008210685" y="2516.984669398502" width="123.64996392570312" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1066.2096462360685" y="2540.733541888502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">401 Unauthorized</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 2551.288596328502 L 148.43045306250002 2551.288596328502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,2551.288596328502) translate(-145.13199855000002,-2551.288596328502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 2541.203108082495 L 147.6040214097338 2551.288596328502 L 167.73970101493347 2561.374084574509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2866.2972825046954" y="2662.116667948502" width="220.58622796378907" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2870.2554279196956" y="2685.8655404385017" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer with hashed password</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 2696.420594878502 L 2790.539290056512 2696.420594878502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2787.240835544012,2696.420594878502) translate(-2787.240835544012,-2696.420594878502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2809.8485380089455 2686.335106632495 L 2789.712858403746 2696.420594878502 L 2809.8485380089455 2706.506083124509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2511.792893285555" y="2736.002049028502" width="114.65211541496093" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2515.751038700555" y="2759.750921518502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 2770.305975958502 L 2354.295520954559 2770.305975958502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,2770.305975958502) translate(-2350.997066442059,-2770.305975958502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 2760.220487712495 L 2353.469089301793 2770.305975958502 L 2373.6047689069924 2780.3914642045092" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2686.7374682559594" y="2809.887430108502" width="258.06649834953123" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2690.6956136709596" y="2833.636302598502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">compare(password, hashedPassword)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 2844.1913570385022 L 3277.245913906891 2844.1913570385022" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3280.544368419391,2844.1913570385022) translate(-3280.544368419391,-2844.1913570385022)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3257.9366659544576 2834.105868792495 L 3278.072345559657 2844.1913570385022 L 3257.9366659544576 2854.2768452845094" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2796.329402460061" y="2955.019428658502" width="38.882629941328126" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2800.287547875061" y="2978.768301148502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">false</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3280.544368419391 2989.323355588502 L 2354.295520954559 2989.323355588502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,2989.323355588502) translate(-2350.997066442059,-2989.323355588502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 2979.237867342495 L 2353.469089301793 2989.323355588502 L 2373.6047689069924 2999.4088438345093" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2148.498304786629" y="3028.904809738502" width="157.02142388664063" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2152.456450201629" y="3052.653682228502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">InvalidCredentialsError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 3063.2087366685023 L 2106.31942153034 3063.2087366685023" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,3063.2087366685023) translate(-2103.02096701784,-3063.2087366685023)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 3053.123248422495 L 2105.492989877574 3063.2087366685023 L 2125.6286694827736 3073.2942249145094" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1062.2515008210685" y="3102.790190818502" width="123.64996392570312" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1066.2096462360685" y="3126.539063308502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">401 Unauthorized</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 3137.0941177485024 L 148.43045306250002 3137.0941177485024" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,3137.0941177485024) translate(-145.13199855000002,-3137.0941177485024)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 3127.0086295024953 L 147.6040214097338 3137.0941177485024 L 167.73970101493347 3147.1796059945095" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2799.181941522561" y="3247.922189368502" width="33.177551816328126" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2803.140086937561" y="3271.671061858502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3280.544368419391 3282.2261162985023 L 2354.295520954559 3282.2261162985023" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,3282.2261162985023) translate(-2350.997066442059,-3282.2261162985023)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 3272.1406280524952 L 2353.469089301793 3282.2261162985023 L 2373.6047689069924 3292.3116045445095" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2711.493149703219" y="3321.8075704485022" width="328.03781182609373" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2715.451295118219" y="3345.556442938502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">sign({ userId, email }, SECRET, { expiresIn: '7d' })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 3356.1114973785025 L 3396.7286360543403 3356.1114973785025" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3400.0270905668403,3356.1114973785025) translate(-3400.0270905668403,-3356.1114973785025)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3377.419388101907 3346.0260091324953 L 3397.5550677071064 3356.1114973785025 L 3377.419388101907 3366.1969856245096" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2853.622658675387" y="3395.6929515285024" width="43.778839658125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2857.580804090387" y="3419.4418240185023" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.0270905668403 3429.9968784585026 L 2354.295520954559 3429.9968784585026" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2350.997066442059,3429.9968784585026) translate(-2350.997066442059,-3429.9968784585026)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2373.6047689069924 3419.9113902124955 L 2353.469089301793 3429.9968784585026 L 2373.6047689069924 3440.0823667045097" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2162.338652076668" y="3469.5783326085025" width="129.3407293065625" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2166.2967974916683" y="3493.3272050985024" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{ customer, token }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2350.997066442059 3503.8822595385027 L 2106.31942153034 3503.8822595385027" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,3503.8822595385027) translate(-2103.02096701784,-3503.8822595385027)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 3493.7967712924956 L 2105.492989877574 3503.8822595385027 L 2125.6286694827736 3513.96774778451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1026.1956689118888" y="3543.4637136885026" width="195.7616277440625" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1030.1538143268888" y="3567.2125861785025" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 OK + { customer, token }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 3577.767640618503 L 148.43045306250002 3577.767640618503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,3577.767640618503) translate(-145.13199855000002,-3577.767640618503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 3567.6821523724957 L 147.6040214097338 3577.767640618503 L 167.73970101493347 3587.85312886451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="898.7681202984124" y="3696.5120030685025" width="181.43804986320313" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="902.7262657134124" y="3720.2608755585024" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">GET /api/orders/my-orders</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.13199855000002 3730.8159299985027 L 1830.5438373975278 3730.8159299985027" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(1833.8422919100278,3730.8159299985027) translate(-1833.8422919100278,-3730.8159299985027)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1811.2345894450946 3720.7304417524956 L 1831.3702690502942 3730.8159299985027 L 1811.2345894450946 3740.90141824451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1865.0676612950276" y="3770.3973841485026" width="206.7279363378125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1869.0258067100276" y="3794.1462566385026" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">authMiddleware(req, res, next)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1833.8422919100278 3804.701311078503 L 2099.72251250534 3804.701311078503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2103.02096701784,3804.701311078503) translate(-2103.02096701784,-3804.701311078503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2080.4132645529066 3794.6158228324957 L 2100.548944158106 3804.701311078503 L 2080.4132645529066 3814.78679932451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2673.4356343539025" y="3844.2827652285027" width="156.176788876875" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2677.3937797689027" y="3868.0316377185027" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">verify(token, SECRET)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 3878.586692158503 L 3396.7286360543403 3878.586692158503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3400.0270905668403,3878.586692158503) translate(-3400.0270905668403,-3878.586692158503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3377.419388101907 3868.501203912496 L 3397.5550677071064 3878.586692158503 L 3377.419388101907 3888.67218040451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2681.295329788473" y="3989.4147637785027" width="140.45739800773438" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2685.253475203473" y="4013.1636362685026" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">JsonWebTokenError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.0270905668403 4023.718690708503 L 2106.31942153034 4023.718690708503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,4023.718690708503) translate(-2103.02096701784,-4023.718690708503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 4013.633202462496 L 2105.492989877574 4023.718690708503 L 2125.6286694827736 4033.80417895451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1062.2515008210685" y="4063.3001448585023" width="123.64996392570312" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1066.2096462360685" y="4087.0490173485023" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">401 Unauthorized</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 4097.604071788503 L 148.43045306250002 4097.604071788503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,4097.604071788503) translate(-145.13199855000002,-4097.604071788503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 4087.5185835424954 L 147.6040214097338 4097.604071788503 L 167.73970101493347 4107.68956003451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2666.474284866598" y="4208.432143408503" width="170.09948785148438" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2670.432430281598" y="4232.181015898504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">decoded { userId, email }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.0270905668403 4242.736070338503 L 2106.31942153034 4242.736070338503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,4242.736070338503) translate(-2103.02096701784,-4242.736070338503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 4232.650582092496 L 2105.492989877574 4242.736070338503 L 2125.6286694827736 4252.82155858451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2273.313121466512" y="4282.317524488503" width="343.63552911125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2277.271266881512" y="4306.066396978504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.customer.findUnique({ where: { id: userId } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 4316.621451418503 L 2783.942381031512 4316.621451418503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2787.240835544012,4316.621451418503) translate(-2787.240835544012,-4316.621451418503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2764.6331330790786 4306.535963172496 L 2784.768812684278 4316.621451418503 L 2764.6331330790786 4326.70693966451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2830.277224826473" y="4356.202905568503" width="292.6263738378125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2834.235370241473" y="4379.951778058504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM customers WHERE id = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 4390.506832498503 L 3162.6415029166683 4390.506832498503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3165.9399574291683,4390.506832498503) translate(-3165.9399574291683,-4390.506832498503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3143.332254964235 4380.421344252496 L 3163.4679345694344 4390.506832498503 L 3143.332254964235 4400.59232074451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2924.557818698543" y="4430.0882866485035" width="104.06515557609374" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2928.5159641135433" y="4453.837159138504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3165.9399574291683 4464.392213578503 L 2790.539290056512 4464.392213578503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2787.240835544012,4464.392213578503) translate(-2787.240835544012,-4464.392213578503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2809.8485380089455 4454.306725332496 L 2789.712858403746 4464.392213578503 L 2809.8485380089455 4474.47770182451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2387.8048435734454" y="4503.973667728504" width="114.65211541496093" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2391.7629889884456" y="4527.722540218504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2787.240835544012 4538.277594658503 L 2106.31942153034 4538.277594658503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2103.02096701784,4538.277594658503) translate(-2103.02096701784,-4538.277594658503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2125.6286694827736 4528.192106412496 L 2105.492989877574 4538.277594658503 L 2125.6286694827736 4548.3630829045105" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1945.7369194127034" y="4577.859048808504" width="45.38942010246094" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1949.6950648277034" y="4601.607921298504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">next()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2103.02096701784 4612.1629757385035 L 1837.1407464225279 4612.1629757385035" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(1833.8422919100278,4612.1629757385035) translate(-1833.8422919100278,-4612.1629757385035)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1856.449994374961 4602.077487492496 L 1836.3143147697615 4612.1629757385035 L 1856.449994374961 4622.248463984511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1865.0676612950276" y="4651.744429888503" width="155.43234307609376" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1869.0258067100276" y="4675.493302378503" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Route handler exécuté</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1833.8422919100278 4686.048356818504 L 1939.3928363100279 4686.048356818504 L 1939.3928363100279 4720.352283748503 L 1837.1407464225279 4720.352283748503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(1833.8422919100278,4720.352283748503) translate(-1833.8422919100278,-4720.352283748503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1856.449994374961 4710.266795502496 L 1836.3143147697615 4720.352283748503 L 1856.449994374961 4730.4377719945105" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="913.6141972637445" y="4759.933737898504" width="151.74589593253907" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="917.5723426787445" y="4783.682610388504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">200 OK + Orders data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1833.8422919100278 4794.2376648285035 L 148.43045306250002 4794.2376648285035" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(145.13199855000002,4794.2376648285035) translate(-145.13199855000002,-4794.2376648285035)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 167.73970101493347 4784.152176582496 L 147.6040214097338 4794.2376648285035 L 167.73970101493347 4804.323153074511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 564.2995979985001 L 3492.3838169168403 564.2995979985001 L 3492.3838169168403 1815.0735491385012 L 52.77527220000002 1815.0735491385012 L 52.77527220000002 564.2995979985001 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 564.2995979985001 L 52.77527220000002 595.9647613185001 L 119.23934139707033 595.9647613185001 L 135.07192305707034 580.1321796585 L 135.07192305707034 564.2995979985001 L 52.77527220000002 564.2995979985001" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="79.16290830000003" y="585.4097068785001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="157.50141374207035" y="566.4106088865001" width="110.27301080070312" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="585.4097068785001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Email existe déjà]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 931.0877397885001 L 3492.3838169168403 931.0877397885001" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="157.50141374207035" y="933.1987506765001" width="108.93275506339843" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="952.1978486685001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Email disponible]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 2224.0819086885017 L 3518.7714530168405 2224.0819086885017 L 3518.7714530168405 3656.9305489185026 L 26.38763610000001 3656.9305489185026 L 26.38763610000001 2224.0819086885017 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 2224.0819086885017 L 26.38763610000001 2255.7470720085016 L 92.85170529707032 2255.7470720085016 L 108.68428695707033 2239.9144903485017 L 108.68428695707033 2224.0819086885017 L 26.38763610000001 2224.0819086885017" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="52.77527220000001" y="2245.192017568502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="131.11377764207035" y="2226.192919576502" width="134.340118955" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="2245.192017568502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Customer non trouvé]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 2590.870050478502 L 3518.7714530168405 2590.870050478502" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="131.11377764207035" y="2592.981061366502" width="109.58572442375" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="2611.980159358502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Customer trouvé]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 2883.772811188502 L 3492.3838169168403 2883.772811188502 L 3492.3838169168403 3617.3490947685027 L 52.77527220000002 3617.3490947685027 L 52.77527220000002 2883.772811188502 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 2883.772811188502 L 52.77527220000002 2915.437974508502 L 119.23934139707033 2915.437974508502 L 135.07192305707034 2899.605392848502 L 135.07192305707034 2883.772811188502 L 52.77527220000002 2883.772811188502" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="79.16290830000003" y="2904.8829200685022" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="157.50141374207035" y="2885.8838220765024" width="143.49272210441407" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="2904.8829200685022" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Mot de passe incorrect]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 3176.6755718985023 L 3492.3838169168403 3176.6755718985023" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="157.50141374207035" y="3178.7865827865025" width="133.06861932121095" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="3197.7856807785024" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Mot de passe correct]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 3918.168146308503 L 3492.3838169168403 3918.168146308503 L 3492.3838169168403 4833.819118978504 L 52.77527220000002 4833.819118978504 L 52.77527220000002 3918.168146308503 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 3918.168146308503 L 52.77527220000002 3949.833309628503 L 119.23934139707033 3949.833309628503 L 135.07192305707034 3934.000727968503 L 135.07192305707034 3918.168146308503 L 52.77527220000002 3918.168146308503" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="79.16290830000003" y="3939.278255188503" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="157.50141374207035" y="3920.279157196503" width="134.15683038078126" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="3939.278255188503" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Token invalide/expiré]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 4137.185525938503 L 3492.3838169168403 4137.185525938503" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="157.50141374207035" y="4139.296536826502" width="85.91383416496093" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="4158.295634818503" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Token valide]</text></g><g/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>