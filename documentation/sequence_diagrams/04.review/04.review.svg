<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="4131.863248652305" height="2936.5480833885013"><desc>sequenceDiagram%0A%20%20%20%20actor%20Customer%0A%20%20%20%20participant%20API%20as%20Express%20API%0A%20%20%20%20participant%20AuthMW%20as%20Auth%20Middleware%0A%20%20%20%20participant%20Controller%20as%20ReviewController%0A%20%20%20%20participant%20Service%20as%20ReviewService%0A%20%20%20%20participant%20OrderService%20as%20OrderService%0A%20%20%20%20participant%20Prisma%20as%20Prisma%20ORM%0A%20%20%20%20participant%20DB%20as%20PostgreSQL%0A%0A%20%20%20%20Customer-%3E%3EAPI%3A%20POST%20%2Fapi%2Fproducts%2F%3AproductId%2Freviews%0A%20%20%20%20Note%20over%20Customer%2CAPI%3A%20Body%3A%20%7B%20rating%3A%205%2C%20comment%3A%20%22Excellent!%22%20%7D%0A%20%20%20%20%0A%20%20%20%20API-%3E%3EAuthMW%3A%20Verify%20JWT%20Token%0A%20%20%20%20alt%20Token%20invalide%0A%20%20%20%20%20%20%20%20AuthMW--%3E%3ECustomer%3A%20401%20Unauthorized%0A%20%20%20%20else%20Token%20valide%0A%20%20%20%20%20%20%20%20AuthMW-%3E%3EController%3A%20createReview(req%2C%20res)%0A%20%20%20%20%20%20%20%20Note%20over%20Controller%3A%20Extract%3A%20productId%2C%20customerId%20(from%20token)%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20Controller-%3E%3EService%3A%20createReview(reviewData)%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20Service-%3E%3EOrderService%3A%20hasCustomerBoughtProduct(customerId%2C%20productId)%0A%20%20%20%20%20%20%20%20OrderService-%3E%3EPrisma%3A%20prisma.orderItem.findFirst(%7B%20where%3A%20%7B...%7D%20%7D)%0A%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20order_items%20WHERE%20product_id%20%3D%20%3F%20AND%20order_id%20IN%20(...)%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20alt%20Client%20n'a%20pas%20achet%C3%A9%20le%20produit%0A%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20Prisma--%3E%3EOrderService%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20OrderService--%3E%3EService%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20Service--%3E%3EController%3A%20NotEligibleError%0A%20%20%20%20%20%20%20%20%20%20%20%20Controller--%3E%3ECustomer%3A%20403%20Forbidden%20(Vous%20devez%20acheter%20le%20produit)%0A%20%20%20%20%20%20%20%20else%20Client%20a%20achet%C3%A9%20le%20produit%0A%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20OrderItem%20found%0A%20%20%20%20%20%20%20%20%20%20%20%20Prisma--%3E%3EOrderService%3A%20OrderItem%0A%20%20%20%20%20%20%20%20%20%20%20%20OrderService--%3E%3EService%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.review.findFirst(%7B%20where%3A%20%7B%20customer_id%2C%20product_id%20%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20reviews%20WHERE%20customer_id%20%3D%20%3F%20AND%20product_id%20%3D%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20alt%20Avis%20existe%20d%C3%A9j%C3%A0%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Review%20found%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma--%3E%3EService%3A%20Review%20exists%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service--%3E%3EController%3A%20AlreadyReviewedError%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Controller--%3E%3ECustomer%3A%20409%20Conflict%20(Avis%20d%C3%A9j%C3%A0%20post%C3%A9)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20Pas%20d'avis%20existant%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.review.create(%7B%20data%3A%20%7B...%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20INSERT%20INTO%20reviews%20(product_id%2C%20customer_id%2C%20rating%2C%20comment)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Review%20created%20(id%3A%201)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma--%3E%3EService%3A%20Review%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service--%3E%3EController%3A%20Review%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Controller--%3E%3ECustomer%3A%20201%20Created%20%2B%20Review%20data%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="4131" height="2936"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.51963465000003 142.09742039850002 L 171.51963465000003 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 322.267950828168 142.09742039850002 L 322.267950828168 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 564.388421693879 142.09742039850002 L 564.388421693879 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 841.949108624043 142.09742039850002 L 841.949108624043 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1109.7281030493243 142.09742039850002 L 1109.7281030493243 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1376.2794592299767 142.09742039850002 L 1376.2794592299767 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1634.6633349418792 142.09742039850002 L 1634.6633349418792 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1856.8017196259495 142.09742039850002 L 1856.8017196259495 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2014.1906612558207 142.09742039850002 L 2014.1906612558207 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2198.6091892689064 142.09742039850002 L 2198.6091892689064 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2417.251014401133 142.09742039850002 L 2417.251014401133 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 142.09742039850002 L 2659.522050959141 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3065.6011777271096 142.09742039850002 L 3065.6011777271096 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 142.09742039850002 L 3400.7569493925394 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3960.343614002305 142.09742039850002 L 3960.343614002305 2936.5480833885013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 186.56058722700004 30.477719695500014 A 15.040952577 15.040952577 0 1 1 186.56057970652438 30.46267874542983" stroke-miterlimit="10" stroke-width="4.485898137" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.51963465000003 45.51867227250001 L 171.51963465000003 77.7115883145 M 152.52053665800003 57.12923215650002 L 190.51873264200003 57.12923215650002 M 171.51963465000003 77.7115883145 L 152.52053665800003 107.79349346850002 M 171.51963465000003 77.7115883145 L 190.51873264200003 107.79349346850002" stroke-miterlimit="10" stroke-width="4.485898137"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="139.74799005771487" y="134.1811295685" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Customer</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 229.6789153422852 70.85080292850002 L 414.8569863140508 70.85080292850002 L 414.8569863140508 142.09742039850002 L 229.6789153422852 142.09742039850002 L 229.6789153422852 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.3095005107852" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API as Express API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 441.2446224140508 70.85080292850002 L 687.5322209737071 70.85080292850002 L 687.5322209737071 142.09742039850002 L 441.2446224140508 142.09742039850002 L 441.2446224140508 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="469.87520758255084" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthMW as Auth Middleware</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 713.919857073707 70.85080292850002 L 969.9783601743788 70.85080292850002 L 969.9783601743788 142.09742039850002 L 713.919857073707 142.09742039850002 L 713.919857073707 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="742.550442242207" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Controller as ReviewController</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 996.365996274379 70.85080292850002 L 1223.0902098242696 70.85080292850002 L 1223.0902098242696 142.09742039850002 L 996.365996274379 142.09742039850002 L 996.365996274379 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1024.996581442879" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Service as ReviewService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1249.4778459242698 70.85080292850002 L 1503.081072535684 70.85080292850002 L 1503.081072535684 142.09742039850002 L 1249.4778459242698 142.09742039850002 L 1249.4778459242698 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1278.1084310927697" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OrderService as OrderService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1529.468708635684 70.85080292850002 L 1739.8579612480746 70.85080292850002 L 1739.8579612480746 142.09742039850002 L 1529.468708635684 142.09742039850002 L 1529.468708635684 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1558.0992938041838" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Prisma as Prisma ORM</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1766.2455973480746 70.85080292850002 L 1947.3578419038247 70.85080292850002 L 1947.3578419038247 142.09742039850002 L 1766.2455973480746 142.09742039850002 L 1766.2455973480746 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1794.8761825165745" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB as PostgreSQL</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1973.7454780038247 70.85080292850002 L 2054.6358445078167 70.85080292850002 L 2054.6358445078167 142.09742039850002 L 1973.7454780038247 142.09742039850002 L 1973.7454780038247 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2002.3760631723246" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2141.875530980289 70.85080292850002 L 2255.3428475575233 70.85080292850002 L 2255.3428475575233 142.09742039850002 L 2141.875530980289 142.09742039850002 L 2141.875530980289 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2170.5061161487893" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthMW</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2356.845214083707 70.85080292850002 L 2477.6568147185585 70.85080292850002 L 2477.6568147185585 142.09742039850002 L 2356.845214083707 142.09742039850002 L 2356.845214083707 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2385.4757992522073" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Controller</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2606.4498230294103 70.85080292850002 L 2712.594278888871 70.85080292850002 L 2712.594278888871 142.09742039850002 L 2606.4498230294103 142.09742039850002 L 2606.4498230294103 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2635.0804081979104" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2993.792377531754 70.85080292850002 L 3137.409977922465 70.85080292850002 L 3137.409977922465 142.09742039850002 L 2993.792377531754 142.09742039850002 L 2993.792377531754 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3022.422962700254" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OrderService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3349.32036446818 70.85080292850002 L 3452.1935343168984 70.85080292850002 L 3452.1935343168984 142.09742039850002 L 3349.32036446818 142.09742039850002 L 3349.32036446818 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3377.95094963668" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Prisma</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3921.5304955696447 70.85080292850002 L 3999.156732434965 70.85080292850002 L 3999.156732434965 142.09742039850002 L 3921.5304955696447 142.09742039850002 L 3921.5304955696447 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3950.161080738145" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB</text></g></g><g><g><rect fill="white" stroke="none" x="963.4174493152541" y="194.8726925985" width="258.8753972753125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="967.3755947302541" y="218.6215650885" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/products/:productId/reviews</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 171.51963465000003 229.17661952850003 L 2010.8922067433207 229.17661952850003" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2014.1906612558207,229.17661952850003) translate(-2014.1906612558207,-229.17661952850003)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1991.5829587908875 219.09113128249294 L 2011.718638396087 229.17661952850003 L 1991.5829587908875 239.26210777450711" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2045.4160306408205" y="268.75807367850007" width="121.96778924308593" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2049.3741760558205" y="292.50694616850006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify JWT Token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2014.1906612558207 303.06200060850006 L 2195.3107347564064 303.06200060850006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2198.6091892689064,303.06200060850006) translate(-2198.6091892689064,-303.06200060850006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2176.001486803973 292.97651236249294 L 2196.1371664091726 303.06200060850006 L 2176.001486803973 313.1474888545072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1123.2394299966018" y="413.89007222850006" width="123.64996392570312" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1127.1975754116017" y="437.63894471850006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">401 Unauthorized</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2198.6091892689064 448.19399915850005 L 174.81808916250003 448.19399915850005" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(171.51963465000003,448.19399915850005) translate(-171.51963465000003,-448.19399915850005)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 194.12733711493348 438.10851091249293 L 173.9916575097338 448.19399915850005 L 194.12733711493348 458.27948740450717" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2229.8345586539062" y="559.0220707785" width="156.19108636222657" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2233.7927040689065" y="582.7709432685001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">createReview(req, res)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2198.6091892689064 593.3259977085 L 2413.952559888633 593.3259977085" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2417.251014401133,593.3259977085) translate(-2417.251014401133,-593.3259977085)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2394.6433119361996 583.240509462493 L 2414.778991541399 593.3259977085 L 2394.6433119361996 603.411485954507" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2448.476383786133" y="632.9074518585" width="179.82029778800782" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2452.434529201133" y="656.6563243485001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">createReview(reviewData)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2417.251014401133 667.2113787885 L 2656.223596446641 667.2113787885" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(2659.522050959141,667.2113787885) translate(-2659.522050959141,-667.2113787885)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2636.9143484942074 657.125890542493 L 2657.050028099407 667.2113787885 L 2636.9143484942074 677.296867034507" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2690.7474203441407" y="706.7928329385" width="343.62838799796873" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2694.705565759141" y="730.5417054285001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">hasCustomerBoughtProduct(customerId, productId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 741.0967598685 L 3062.3027232146096 741.0967598685" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3065.6011777271096,741.0967598685) translate(-3065.6011777271096,-741.0967598685)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3042.993475262176 731.011271622493 L 3063.1291548673757 741.0967598685 L 3042.993475262176 751.182248114507" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3096.8265471121094" y="780.6782140185001" width="272.70504815421873" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3100.7846925271097" y="804.4270865085001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.orderItem.findFirst({ where: {...} })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3065.6011777271096 814.9821409485 L 3397.4584948800393 814.9821409485" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3400.7569493925394,814.9821409485) translate(-3400.7569493925394,-814.9821409485)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3378.149246927606 804.896652702493 L 3398.2849265328055 814.9821409485 L 3378.149246927606 825.067629194507" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3431.982318777539" y="854.5635950985001" width="497.13583428703123" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3435.9404641925394" y="878.3124675885001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM order_items WHERE product_id = ? AND order_id IN (...)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 888.8675220285 L 3957.045159489805 888.8675220285" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3960.343614002305,888.8675220285) translate(-3960.343614002305,-888.8675220285)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3937.7359115373715 878.782033782493 L 3957.871591142571 888.8675220285 L 3937.7359115373715 898.953010274507" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3665.181980032422" y="999.6955936485001" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3669.140125447422" y="1023.4444661385002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3960.343614002305 1033.9995205785 L 3404.0554039050394 1033.9995205785" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3400.7569493925394,1033.9995205785) translate(-3400.7569493925394,-1033.9995205785)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3423.364651857473 1023.9140323324931 L 3403.2289722522733 1033.9995205785 L 3423.364651857473 1044.0850088245072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3217.8107618948243" y="1073.5809747285" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3221.7689073098245" y="1097.3298472185" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 1107.8849016585 L 3068.8996322396097 1107.8849016585" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3065.6011777271096,1107.8849016585) translate(-3065.6011777271096,-1107.8849016585)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3088.208880192043 1097.7994134124929 L 3068.0732005868435 1107.8849016585 L 3088.208880192043 1117.970389904507" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2843.120299372461" y="1147.4663558085" width="38.882629941328126" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2847.078444787461" y="1171.2152282985" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">false</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3065.6011777271096 1181.7702827385 L 2662.820505471641 1181.7702827385" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2659.522050959141,1181.7702827385) translate(-2659.522050959141,-1181.7702827385)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2682.1297534240744 1171.684794492493 L 2661.9940738188748 1181.7702827385 L 2682.1297534240744 1191.8557709845072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2483.1005750703125" y="1221.3517368885002" width="110.57191521964843" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2487.0587204853127" y="1245.1006093785002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">NotEligibleError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 1255.6556638185002 L 2420.549468913633 1255.6556638185002" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2417.251014401133,1255.6556638185002) translate(-2417.251014401133,-1255.6556638185002)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2439.8587168660665 1245.570175572493 L 2419.723037260867 1255.6556638185002 L 2439.8587168660665 1265.7411520645073" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1139.6613252287304" y="1295.2371179685003" width="309.44799859367185" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1143.6194706437304" y="1318.9859904585003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">403 Forbidden (Vous devez acheter le produit)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2417.251014401133 1329.5410448985003 L 174.81808916250003 1329.5410448985003" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(171.51963465000003,1329.5410448985003) translate(-171.51963465000003,-1329.5410448985003)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 194.12733711493348 1319.4555566524932 L 173.9916575097338 1329.5410448985003 L 194.12733711493348 1339.6265331445074" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3623.220638174512" y="1440.3691165185003" width="114.6592870458203" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3627.178783589512" y="1464.1179890085002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OrderItem found</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3960.343614002305 1474.6730434485003 L 3404.0554039050394 1474.6730434485003" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3400.7569493925394,1474.6730434485003) translate(-3400.7569493925394,-1474.6730434485003)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3423.364651857473 1464.5875552024931 L 3403.2289722522733 1474.6730434485003 L 3423.364651857473 1484.7585316945074" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3196.228799309375" y="1514.2544975985004" width="73.90052850089843" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3200.1869447243753" y="1538.0033700885003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">OrderItem</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 1548.5584245285004 L 3068.8996322396097 1548.5584245285004" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3065.6011777271096,1548.5584245285004) translate(-3065.6011777271096,-1548.5584245285004)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3088.208880192043 1538.4729362824933 L 3068.0732005868435 1548.5584245285004 L 3088.208880192043 1558.6439127745075" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2845.972838434961" y="1588.1398786785005" width="33.177551816328126" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2849.930983849961" y="1611.8887511685004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3065.6011777271096 1622.4438056085005 L 2662.820505471641 1622.4438056085005" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2659.522050959141,1622.4438056085005) translate(-2659.522050959141,-1622.4438056085005)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2682.1297534240744 1612.3583173624934 L 2661.9940738188748 1622.4438056085005 L 2682.1297534240744 1632.5292938545076" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2828.185734033301" y="1662.0252597585006" width="403.9075017675" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2832.143879448301" y="1685.7741322485006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.review.findFirst({ where: { customer_id, product_id } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 1696.3291866885006 L 3397.4584948800393 1696.3291866885006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3400.7569493925394,1696.3291866885006) translate(-3400.7569493925394,-1696.3291866885006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3378.149246927606 1686.2436984424935 L 3398.2849265328055 1696.3291866885006 L 3378.149246927606 1706.4146749345077" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3442.769710440137" y="1735.9106408385007" width="475.561066220625" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3446.727855855137" y="1759.6595133285007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM reviews WHERE customer_id = ? AND product_id = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 1770.2145677685007 L 3957.045159489805 1770.2145677685007" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3960.343614002305,1770.2145677685007) translate(-3960.343614002305,-1770.2145677685007)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3937.7359115373715 1760.1290795224936 L 3957.871591142571 1770.2145677685007 L 3937.7359115373715 1780.3000560145078" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3632.1791190094727" y="1881.0426393885007" width="96.74232537589843" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3636.137264424473" y="1904.7915118785006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Review found</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3960.343614002305 1915.3465663185007 L 3404.0554039050394 1915.3465663185007" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3400.7569493925394,1915.3465663185007) translate(-3400.7569493925394,-1915.3465663185007)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3423.364651857473 1905.2610780724935 L 3403.2289722522733 1915.3465663185007 L 3423.364651857473 1925.4320545645078" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2981.374645471289" y="1954.9280204685008" width="97.52970940910156" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2985.3327908862893" y="1978.6768929585007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Review exists</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 1989.2319473985008 L 2662.820505471641 1989.2319473985008" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2659.522050959141,1989.2319473985008) translate(-2659.522050959141,-1989.2319473985008)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2682.1297534240744 1979.1464591524937 L 2661.9940738188748 1989.2319473985008 L 2682.1297534240744 1999.317435644508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2461.099865536621" y="2028.8134015485007" width="154.57333428703126" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2465.0580109516213" y="2052.5622740385006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AlreadyReviewedError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 2063.117328478501 L 2420.549468913633 2063.117328478501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2417.251014401133,2063.117328478501) translate(-2417.251014401133,-2063.117328478501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2439.8587168660665 2053.031840232494 L 2419.723037260867 2063.117328478501 L 2439.8587168660665 2073.202816724508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1195.223214877168" y="2102.698782628501" width="198.32421929679688" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1199.181360292168" y="2126.4476551185007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">409 Conflict (Avis déjà posté)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2417.251014401133 2137.002709558501 L 174.81808916250003 2137.002709558501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(171.51963465000003,2137.002709558501) translate(-171.51963465000003,-2137.002709558501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 194.12733711493348 2126.917221312494 L 173.9916575097338 2137.002709558501 L 194.12733711493348 2147.088197804508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3665.181980032422" y="2247.8307811785007" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3669.140125447422" y="2271.5796536685007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3960.343614002305 2282.134708108501 L 3404.0554039050394 2282.134708108501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3400.7569493925394,2282.134708108501) translate(-3400.7569493925394,-2282.134708108501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3423.364651857473 2272.049219862494 L 3403.2289722522733 2282.134708108501 L 3423.364651857473 2292.220196354508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2915.7698023316407" y="2321.716162258501" width="228.73939568839845" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2919.727947746641" y="2345.465034748501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.review.create({ data: {...} })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 2356.020089188501 L 3397.4584948800393 2356.020089188501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3400.7569493925394,2356.020089188501) translate(-3400.7569493925394,-2356.020089188501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3378.149246927606 2345.934600942494 L 3398.2849265328055 2356.020089188501 L 3378.149246927606 2366.105577434508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3461.7783087677735" y="2395.601543338501" width="437.543976376875" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3465.7364541827737" y="2419.350415828501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">INSERT INTO reviews (product_id, customer_id, rating, comment)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 2429.905470268501 L 3957.045159489805 2429.905470268501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3960.343614002305,2429.905470268501) translate(-3960.343614002305,-2429.905470268501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3937.7359115373715 2419.819982022494 L 3957.871591142571 2429.905470268501 L 3937.7359115373715 2439.9909585145083" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3605.300113577344" y="2469.486924418501" width="150.50033624015626" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3609.258258992344" y="2493.235796908501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Review created (id: 1)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3960.343614002305 2503.7908513485013 L 3404.0554039050394 2503.7908513485013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3400.7569493925394,2503.7908513485013) translate(-3400.7569493925394,-2503.7908513485013)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3423.364651857473 2493.705363102494 L 3403.2289722522733 2503.7908513485013 L 3423.364651857473 2513.8763395945084" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2980.5514490601563" y="2543.372305498501" width="99.17610223136718" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2984.5095944751565" y="2567.121177988501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Review object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3400.7569493925394 2577.6762324285014 L 2662.820505471641 2577.6762324285014" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2659.522050959141,2577.6762324285014) translate(-2659.522050959141,-2577.6762324285014)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2682.1297534240744 2567.5907441824943 L 2661.9940738188748 2577.6762324285014 L 2682.1297534240744 2587.7617206745085" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="2488.798481564453" y="2617.2576865785013" width="99.17610223136718" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2492.7566269794534" y="2641.0065590685012" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Review object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2659.522050959141 2651.5616135085015 L 2420.549468913633 2651.5616135085015" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(2417.251014401133,2651.5616135085015) translate(-2417.251014401133,-2651.5616135085015)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2439.8587168660665 2641.4761252624944 L 2419.723037260867 2651.5616135085015 L 2439.8587168660665 2661.6471017545086" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1201.3935563688672" y="2691.1430676585014" width="185.98353631339845" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1205.3517017838672" y="2714.8919401485014" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">201 Created + Review data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2417.251014401133 2725.4469945885016 L 174.81808916250003 2725.4469945885016" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(171.51963465000003,2725.4469945885016) translate(-171.51963465000003,-2725.4469945885016)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 194.12733711493348 2715.3615063424945 L 173.9916575097338 2725.4469945885016 L 194.12733711493348 2735.5324828345088" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 342.64345475850007 L 4105.475612552305 342.64345475850007 L 4105.475612552305 2844.1913570385013 L 26.38763610000001 2844.1913570385013 L 26.38763610000001 342.64345475850007 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 342.64345475850007 L 26.38763610000001 374.30861807850005 L 92.85170529707032 374.30861807850005 L 108.68428695707033 358.4760364185001 L 108.68428695707033 342.64345475850007 L 26.38763610000001 342.64345475850007" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="52.77527220000001" y="363.75356363850005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="131.11377764207035" y="344.7544656465001" width="96.33793694816406" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="363.75356363850005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Token invalide]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 487.77545330850006 L 4105.475612552305 487.77545330850006" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="131.11377764207035" y="489.8864641965" width="85.91383416496093" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="508.88556218850005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Token valide]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 928.4489761785001 L 4079.087976452305 928.4489761785001 L 4079.087976452305 2804.6099028885014 L 52.77527220000002 2804.6099028885014 L 52.77527220000002 928.4489761785001 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 928.4489761785001 L 52.77527220000002 960.1141394985001 L 119.23934139707033 960.1141394985001 L 135.07192305707034 944.2815578385 L 135.07192305707034 928.4489761785001 L 52.77527220000002 928.4489761785001" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="79.16290830000003" y="949.5590850585" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="157.50141374207035" y="930.5599870665001" width="188.63710076652345" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="949.5590850585" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Client n'a pas acheté le produit]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 1369.1224990485005 L 4079.087976452305 1369.1224990485005" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="157.50141374207035" y="1371.2335099365002" width="155.211212705" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="1390.2326079285003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Client a acheté le produit]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.16290830000003 1809.7960219185009 L 4052.700340352305 1809.7960219185009 L 4052.700340352305 2765.0284487385015 L 79.16290830000003 2765.0284487385015 L 79.16290830000003 1809.7960219185009 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 79.16290830000003 1809.7960219185009 L 79.16290830000003 1841.4611852385008 L 145.62697749707036 1841.4611852385008 L 161.45955915707034 1825.6286035785008 L 161.45955915707034 1809.7960219185009 L 79.16290830000003 1809.7960219185009" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="105.55054440000004" y="1830.9061307985007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="183.88904984207036" y="1811.9070328065006" width="103.3198095067578" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="187.84719525707035" y="1830.9061307985007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Avis existe déjà]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.16290830000003 2176.584163708501 L 4052.700340352305 2176.584163708501" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="183.88904984207036" y="2178.695174596501" width="120.23321587882812" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="187.84719525707035" y="2197.694272588501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Pas d'avis existant]</text></g><g/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>