<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="6520.824386272559" height="5137.276934128506"><desc>sequenceDiagram%0A%20%20%20%20actor%20Admin%0A%20%20%20%20participant%20Frontend%20as%20Admin%20Dashboard%0A%20%20%20%20participant%20API%20as%20Express%20API%0A%20%20%20%20participant%20AuthMW%20as%20Auth%20Middleware%0A%20%20%20%20participant%20Upload%20as%20Multer%20Middleware%0A%20%20%20%20participant%20Controller%20as%20ProductController%0A%20%20%20%20participant%20Service%20as%20ProductService%0A%20%20%20%20participant%20ImageService%20as%20ImageService%0A%20%20%20%20participant%20Sharp%20as%20Sharp%20(Image%20Processing)%0A%20%20%20%20participant%20S3%20as%20AWS%20S3%20%2F%20Cloudinary%0A%20%20%20%20participant%20Prisma%20as%20Prisma%20ORM%0A%20%20%20%20participant%20DB%20as%20PostgreSQL%0A%0A%20%20%20%20Admin-%3E%3EFrontend%3A%20Select%20image%20%2B%20Fill%20form%0A%20%20%20%20Note%20over%20Admin%2CFrontend%3A%20Image%3A%20product.jpg%20(5MB)%0A%20%20%20%20%0A%20%20%20%20Frontend-%3E%3EAPI%3A%20POST%20%2Fapi%2Fproducts%2F%3Aid%2Fimages%0A%20%20%20%20Note%20over%20Frontend%2CAPI%3A%20Content-Type%3A%20multipart%2Fform-data%3Cbr%2F%3EBody%3A%20FormData%20with%20image%20file%0A%20%20%20%20%0A%20%20%20%20API-%3E%3EAuthMW%3A%20Verify%20JWT%20Token%20%2B%20Check%20ADMIN%20role%0A%20%20%20%20%0A%20%20%20%20alt%20Non%20autoris%C3%A9%0A%20%20%20%20%20%20%20%20AuthMW--%3E%3EFrontend%3A%20401%2F403%0A%20%20%20%20else%20Autoris%C3%A9%0A%20%20%20%20%20%20%20%20AuthMW-%3E%3EUpload%3A%20multer.single('image')%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20Upload-%3E%3EUpload%3A%20validateFileType(file)%0A%20%20%20%20%20%20%20%20Note%20over%20Upload%3A%20Accept%3A%20.jpg%2C%20.jpeg%2C%20.png%2C%20.webp%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20alt%20Type%20invalide%0A%20%20%20%20%20%20%20%20%20%20%20%20Upload--%3E%3EFrontend%3A%20400%20Bad%20Request%20(Format%20non%20support%C3%A9)%0A%20%20%20%20%20%20%20%20else%20Type%20valide%0A%20%20%20%20%20%20%20%20%20%20%20%20Upload-%3E%3EUpload%3A%20validateFileSize(file)%0A%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20Upload%3A%20Max%20size%3A%205MB%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20alt%20Taille%20d%C3%A9pass%C3%A9e%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Upload--%3E%3EFrontend%3A%20413%20Payload%20Too%20Large%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20Taille%20OK%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Upload-%3E%3EUpload%3A%20saveToTemp(%2Ftmp%2Fuploads%2F)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20Upload%3A%20File%20saved%20temporarily%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Upload--%3E%3EController%3A%20req.file%20available%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Controller-%3E%3EService%3A%20uploadProductImage(productId%2C%20file)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.product.findUnique(%7B%20where%3A%20%7B%20id%20%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20products%20WHERE%20id%20%3D%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt%20Produit%20non%20trouv%C3%A9%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EService%3A%20fs.unlinkSync(tempFile)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service--%3E%3EController%3A%20ProductNotFoundError%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Controller--%3E%3EFrontend%3A%20404%20Not%20Found%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20Produit%20existe%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Product%20data%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma--%3E%3EService%3A%20Product%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EImageService%3A%20processAndUpload(file%2C%20productId)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20par%20Traitement%20parall%C3%A8le%20des%20variantes%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3ESharp%3A%20resize(1200%2C%201200).webp()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20Sharp%3A%20Variant%3A%20large%20(1200x1200)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Sharp--%3E%3EImageService%3A%20Buffer%20(large)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3ES3%3A%20putObject('products%2F123%2Flarge.webp'%2C%20buffer)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20S3--%3E%3EImageService%3A%20URL%3A%20https%3A%2F%2Fcdn...%2Flarge.webp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20and%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3ESharp%3A%20resize(600%2C%20600).webp()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20Sharp%3A%20Variant%3A%20medium%20(600x600)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Sharp--%3E%3EImageService%3A%20Buffer%20(medium)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3ES3%3A%20putObject('products%2F123%2Fmedium.webp'%2C%20buffer)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20S3--%3E%3EImageService%3A%20URL%3A%20https%3A%2F%2Fcdn...%2Fmedium.webp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20and%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3ESharp%3A%20resize(300%2C%20300).webp()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20Sharp%3A%20Variant%3A%20thumbnail%20(300x300)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Sharp--%3E%3EImageService%3A%20Buffer%20(thumbnail)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3ES3%3A%20putObject('products%2F123%2Fthumb.webp'%2C%20buffer)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20S3--%3E%3EImageService%3A%20URL%3A%20https%3A%2F%2Fcdn...%2Fthumb.webp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService-%3E%3EImageService%3A%20fs.unlinkSync(tempFile)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20ImageService%3A%20Nettoyer%20fichier%20temporaire%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ImageService--%3E%3EService%3A%20Image%20URLs%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.productImage.create(%7B%20data%3A%20%7B...%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20Service%2CPrisma%3A%20Stocke%20les%203%20URLs%20%2B%20metadata%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20INSERT%20INTO%20product_images%20(product_id%2C%20url_large%2C%20url_medium%2C%20url_thumb%2C%20size%2C%20format)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Image%20record%20created%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt%20Ancienne%20image%20existe%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.productImage.findMany(%7B%20where%3A%20%7B%20product_id%2C%20is_primary%3A%20true%20%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20SELECT%20*%20FROM%20product_images%20WHERE%20product_id%20%3D%20%3F%20AND%20is_primary%20%3D%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Old%20image%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3ES3%3A%20deleteObjects(%5Bold%20URLs%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20S3%3A%20Supprime%20anciennes%20images%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20S3--%3E%3EService%3A%20Deleted%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.productImage.delete(%7B%20where%3A%20%7B%20id%3A%20oldImageId%20%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20DELETE%20FROM%20product_images%20WHERE%20id%20%3D%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service-%3E%3EPrisma%3A%20prisma.product.update(%7B%20data%3A%20%7B%20image_url%3A%20largeURL%20%7D%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Prisma-%3E%3EDB%3A%20UPDATE%20products%20SET%20image_url%20%3D%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20DB--%3E%3EPrisma%3A%20Product%20updated%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Service--%3E%3EController%3A%20Image%20data%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Controller--%3E%3EFrontend%3A%20201%20Created%20%2B%20%7B%20image_urls%2C%20metadata%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Frontend--%3E%3EAdmin%3A%20Image%20preview%20displayed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="6520" height="5137"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 197.90727075000004 142.09742039850002 L 197.90727075000004 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 373.52674171332427 142.09742039850002 L 373.52674171332427 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 620.9585910580391 142.09742039850002 L 620.9585910580391 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 863.07906192375 142.09742039850002 L 863.07906192375 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1136.1658871595782 142.09742039850002 L 1136.1658871595782 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1415.365787651754 142.09742039850002 L 1415.365787651754 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1685.600028048715 142.09742039850002 L 1685.600028048715 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1956.6503084847386 142.09742039850002 L 1956.6503084847386 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2258.262501457383 142.09742039850002 L 2258.262501457383 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2547.7880931727036 142.09742039850002 L 2547.7880931727036 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 2797.356668896813 142.09742039850002 L 2797.356668896813 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3019.4950535808835 142.09742039850002 L 3019.4950535808835 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3194.4072572346804 142.09742039850002 L 3194.4072572346804 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3463.585962860071 142.09742039850002 L 3463.585962860071 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3786.0932207315554 142.09742039850002 L 3786.0932207315554 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 142.09742039850002 L 3994.047835780774 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4222.496701833899 142.09742039850002 L 4222.496701833899 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 142.09742039850002 L 4525.927330066712 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 142.09742039850002 L 5068.892595750696 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5729.424069320423 142.09742039850002 L 5729.424069320423 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 142.09742039850002 L 5868.069274683204 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6109.560053062501 142.09742039850002 L 6109.560053062501 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6296.529479422559 142.09742039850002 L 6296.529479422559 5137.276934128506" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/></g><g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 212.94822332700005 30.477719695500014 A 15.040952577 15.040952577 0 1 1 212.9482158065244 30.46267874542983" stroke-miterlimit="10" stroke-width="4.485898137" stroke-dasharray=""/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 197.90727075000004 45.51867227250001 L 197.90727075000004 77.7115883145 M 178.90817275800003 57.12923215650002 L 216.90636874200004 57.12923215650002 M 197.90727075000004 77.7115883145 L 178.90817275800003 107.79349346850002 M 197.90727075000004 77.7115883145 L 216.90636874200004 107.79349346850002" stroke-miterlimit="10" stroke-width="4.485898137"/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="177.13061364550785" y="134.1811295685" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Admin</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 245.07156395449223 70.85080292850002 L 501.9819194721563 70.85080292850002 L 501.9819194721563 142.09742039850002 L 245.07156395449223 142.09742039850002 L 245.07156395449223 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.70214912299224" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Frontend as Admin Dashboard</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 528.3695555721563 70.85080292850002 L 713.547626543922 70.85080292850002 L 713.547626543922 142.09742039850002 L 528.3695555721563 142.09742039850002 L 528.3695555721563 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="557.0001407406563" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API as Express API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 739.9352626439219 70.85080292850002 L 986.2228612035781 70.85080292850002 L 986.2228612035781 142.09742039850002 L 739.9352626439219 142.09742039850002 L 739.9352626439219 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="768.5658478124219" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthMW as Auth Middleware</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1012.6104973035782 70.85080292850002 L 1259.7212770155782 70.85080292850002 L 1259.7212770155782 142.09742039850002 L 1012.6104973035782 142.09742039850002 L 1012.6104973035782 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1041.2410824720782" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upload as Multer Middleware</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1286.1089131155784 70.85080292850002 L 1544.62266218793 70.85080292850002 L 1544.62266218793 142.09742039850002 L 1286.1089131155784 142.09742039850002 L 1286.1089131155784 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1314.7394982840783" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Controller as ProductController</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1571.01029828793 70.85080292850002 L 1800.1897578095004 70.85080292850002 L 1800.1897578095004 142.09742039850002 L 1571.01029828793 142.09742039850002 L 1571.01029828793 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1599.64088345643" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Service as ProductService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1826.5773939095004 70.85080292850002 L 2086.723223059977 70.85080292850002 L 2086.723223059977 142.09742039850002 L 1826.5773939095004 142.09742039850002 L 1826.5773939095004 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1855.2079790780003" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ImageService as ImageService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2113.110859159977 70.85080292850002 L 2403.414143754789 70.85080292850002 L 2403.414143754789 142.09742039850002 L 2113.110859159977 142.09742039850002 L 2113.110859159977 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2141.741444328477" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sharp as Sharp (Image Processing)</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2429.8017798547894 70.85080292850002 L 2665.7744064906174 70.85080292850002 L 2665.7744064906174 142.09742039850002 L 2429.8017798547894 142.09742039850002 L 2429.8017798547894 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2458.4323650232895" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">S3 as AWS S3 / Cloudinary</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2692.1620425906176 70.85080292850002 L 2902.551295203008 70.85080292850002 L 2902.551295203008 142.09742039850002 L 2692.1620425906176 142.09742039850002 L 2692.1620425906176 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2720.7926277591177" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Prisma as Prisma ORM</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 2928.9389313030083 70.85080292850002 L 3110.051175858758 70.85080292850002 L 3110.051175858758 142.09742039850002 L 2928.9389313030083 142.09742039850002 L 2928.9389313030083 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="2957.5695164715085" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB as PostgreSQL</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3136.4388119587584 70.85080292850002 L 3252.375702510602 70.85080292850002 L 3252.375702510602 142.09742039850002 L 3136.4388119587584 142.09742039850002 L 3136.4388119587584 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3165.0693971272585" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Frontend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3423.140779608075 70.85080292850002 L 3504.031146112067 70.85080292850002 L 3504.031146112067 142.09742039850002 L 3423.140779608075 142.09742039850002 L 3423.140779608075 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3451.771364776575" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3729.359562442938 70.85080292850002 L 3842.8268790201723 70.85080292850002 L 3842.8268790201723 142.09742039850002 L 3729.359562442938 142.09742039850002 L 3729.359562442938 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3757.9901476114383" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AuthMW</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 3942.1889104633483 70.85080292850002 L 4045.9067610981997 70.85080292850002 L 4045.9067610981997 142.09742039850002 L 3942.1889104633483 142.09742039850002 L 3942.1889104633483 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3970.8194956318484" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Upload</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 4162.090901516473 70.85080292850002 L 4282.902502151325 70.85080292850002 L 4282.902502151325 142.09742039850002 L 4162.090901516473 142.09742039850002 L 4162.090901516473 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4190.721486684974" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Controller</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 4472.855102136981 70.85080292850002 L 4578.9995579964425 70.85080292850002 L 4578.9995579964425 142.09742039850002 L 4472.855102136981 142.09742039850002 L 4472.855102136981 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4501.485687305481" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Service</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 5017.456010826337 70.85080292850002 L 5120.329180675056 70.85080292850002 L 5120.329180675056 142.09742039850002 L 5017.456010826337 142.09742039850002 L 5017.456010826337 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5046.086595994837" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Prisma</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 5690.610950887763 70.85080292850002 L 5768.237187753083 70.85080292850002 L 5768.237187753083 142.09742039850002 L 5690.610950887763 142.09742039850002 L 5690.610950887763 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5719.241536056263" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DB</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 5794.6248238530825 70.85080292850002 L 5941.513725513325 70.85080292850002 L 5941.513725513325 142.09742039850002 L 5794.6248238530825 142.09742039850002 L 5794.6248238530825 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5823.255409021583" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ImageService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 6061.369706846637 70.85080292850002 L 6157.750399278364 70.85080292850002 L 6157.750399278364 142.09742039850002 L 6061.369706846637 142.09742039850002 L 6061.369706846637 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6090.000292015137" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sharp</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 6258.933257047028 70.85080292850002 L 6334.125701798091 70.85080292850002 L 6334.125701798091 142.09742039850002 L 6258.933257047028 142.09742039850002 L 6258.933257047028 70.85080292850002 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6287.563842215528" y="115.70978429850003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">S3</text></g></g><g><g><rect fill="white" stroke="none" x="1615.4131764997035" y="194.8726925985" width="161.48817498527345" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1619.3713219147035" y="218.6215650885" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Select image + Fill form</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 197.90727075000004 229.17661952850003 L 3191.1088027221804 229.17661952850003" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3194.4072572346804,229.17661952850003) translate(-3194.4072572346804,-229.17661952850003)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3171.799554769747 219.09113128249294 L 3191.9352343749465 229.17661952850003 L 3171.799554769747 239.26210777450711" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3225.63262661968" y="268.75807367850007" width="206.72796685539063" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3229.5907720346804" y="292.50694616850006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /api/products/:id/images</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3194.4072572346804 303.06200060850006 L 3460.287508347571 303.06200060850006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3463.585962860071,303.06200060850006) translate(-3463.585962860071,-303.06200060850006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3440.9782603951376 292.97651236249294 L 3461.113940000337 303.06200060850006 L 3440.9782603951376 313.1474888545072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3494.811332245071" y="342.64345475850007" width="260.05651910148435" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3498.769477660071" y="366.39232724850007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Verify JWT Token + Check ADMIN role</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3463.585962860071 376.94738168850006 L 3782.7947662190554 376.94738168850006" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3786.0932207315554,376.94738168850006) translate(-3786.0932207315554,-376.94738168850006)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3763.485518266622 366.86189344249294 L 3783.6211978718216 376.94738168850006 L 3763.485518266622 387.0328699345072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3459.7960379650904" y="487.7754533085001" width="60.90840203605469" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3463.7541833800906" y="511.5243257985001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">401/403</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3786.0932207315554 522.0793802385001 L 3197.7057117471804 522.0793802385001" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3194.4072572346804,522.0793802385001) translate(-3194.4072572346804,-522.0793802385001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3217.014959699614 511.993891992493 L 3196.8792800944143 522.0793802385001 L 3217.014959699614 532.1648684845071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3817.3185901165552" y="632.9074518585002" width="145.50387627921876" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3821.2767355315555" y="656.6563243485002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">multer.single('image')</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3786.0932207315554 667.2113787885002 L 3990.749381268274 667.2113787885002" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3994.047835780774,667.2113787885002) translate(-3994.047835780774,-667.2113787885002)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3971.4401333158407 657.1258905424932 L 3991.5758129210403 667.2113787885002 L 3971.4401333158407 677.2968670345072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4025.273205165774" y="706.7928329385002" width="142.35429437003907" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4029.2313505807742" y="730.5417054285002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">validateFileType(file)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 741.0967598685002 L 4099.598380180774 741.0967598685002 L 4099.598380180774 775.4006867985001 L 3997.3462902932743 775.4006867985001" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3994.047835780774,775.4006867985001) translate(-3994.047835780774,-775.4006867985001)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4016.6555382457077 765.3151985524931 L 3996.519858640508 775.4006867985001 L 4016.6555382457077 785.4861750445071" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3458.6624293520044" y="886.2287584185002" width="271.13021905265623" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3462.6205747670047" y="909.9776309085003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">400 Bad Request (Format non supporté)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 920.5326853485002 L 3197.7057117471804 920.5326853485002" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3194.4072572346804,920.5326853485002) translate(-3194.4072572346804,-920.5326853485002)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3217.014959699614 910.4471971024932 L 3196.8792800944143 920.5326853485002 L 3217.014959699614 930.6181735945072" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4025.273205165774" y="1031.3607569685003" width="139.09014947257813" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4029.2313505807742" y="1055.1096294585002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">validateFileSize(file)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 1065.6646838985002 L 4099.598380180774 1065.6646838985002 L 4099.598380180774 1099.9686108285002 L 3997.3462902932743 1099.9686108285002" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3994.047835780774,1099.9686108285002) translate(-3994.047835780774,-1099.9686108285002)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4016.6555382457077 1089.8831225824931 L 3996.519858640508 1099.9686108285002 L 4016.6555382457077 1110.0540990745073" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3514.8757243349146" y="1210.7966824485004" width="158.703644345625" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3518.833869749915" y="1234.5455549385003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">413 Payload Too Large</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 1245.1006093785004 L 3197.7057117471804 1245.1006093785004" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3194.4072572346804,1245.1006093785004) translate(-3194.4072572346804,-1245.1006093785004)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3217.014959699614 1235.0151211324933 L 3196.8792800944143 1245.1006093785004 L 3217.014959699614 1255.1860976245075" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4025.273205165774" y="1355.9286809985006" width="187.987824033125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4029.2313505807742" y="1379.6775534885005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">saveToTemp(/tmp/uploads/)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 1390.2326079285006 L 4099.598380180774 1390.2326079285006 L 4099.598380180774 1424.5365348585005 L 3997.3462902932743 1424.5365348585005" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(3994.047835780774,1424.5365348585005) translate(-3994.047835780774,-1424.5365348585005)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4016.6555382457077 1414.4510466124934 L 3996.519858640508 1424.5365348585005 L 4016.6555382457077 1434.6220231045077" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4051.343504190677" y="1464.1179890085007" width="113.8575292333203" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4055.301649605677" y="1487.8668614985006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">req.file available</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3994.047835780774 1498.4219159385007 L 4219.198247321399 1498.4219159385007" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(4222.496701833899,1498.4219159385007) translate(-4222.496701833899,-1498.4219159385007)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4199.888999368966 1488.3364276924935 L 4220.024678974166 1498.4219159385007 L 4199.888999368966 1508.5074041845078" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4253.722071218899" y="1538.0033700885008" width="240.9798894628125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4257.680216633899" y="1561.7522425785007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">uploadProductImage(productId, file)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4222.496701833899 1572.3072970185008 L 4522.628875554212 1572.3072970185008" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(4525.927330066712,1572.3072970185008) translate(-4525.927330066712,-1572.3072970185008)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4503.319627601779 1562.2218087724937 L 4523.455307206978 1572.3072970185008 L 4503.319627601779 1582.392785264508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4655.327313404348" y="1611.888751168501" width="284.1653142675" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4659.285458819349" y="1635.6376236585008" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.product.findUnique({ where: { id } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 1646.192678098501 L 5065.594141238196 1646.192678098501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5068.892595750696,1646.192678098501) translate(-5068.892595750696,-1646.192678098501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5046.284893285763 1636.1071898524938 L 5066.420572890963 1646.192678098501 L 5046.284893285763 1656.278166344508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5258.539504442337" y="1685.774132248501" width="281.23764092765623" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5262.497649857337" y="1709.523004738501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM products WHERE id = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 1720.078059178501 L 5726.125614807923 1720.078059178501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5729.424069320423,1720.078059178501) translate(-5729.424069320423,-1720.078059178501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5706.81636685549 1709.992570932494 L 5726.952046460689 1720.078059178501 L 5706.81636685549 1730.1635474245081" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5383.790030870559" y="1830.906130798501" width="30.73660333" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5387.74817628556" y="1854.655003288501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">null</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5729.424069320423 1865.210057728501 L 5072.191050263196 1865.210057728501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5068.892595750696,1865.210057728501) translate(-5068.892595750696,-1865.210057728501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5091.500298215629 1855.1245694824938 L 5071.36461861043 1865.210057728501 L 5091.500298215629 1875.295545974508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4557.152699451712" y="1904.791511878501" width="160.26409966789063" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4561.110844866712" y="1928.540384368501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">fs.unlinkSync(tempFile)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 1939.095438808501 L 4631.477874466712 1939.095438808501 L 4631.477874466712 1973.399365738501 L 4529.225784579212 1973.399365738501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(4525.927330066712,1973.399365738501) translate(-4525.927330066712,-1973.399365738501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4548.535032531645 1963.313877492494 L 4528.399352926445 1973.399365738501 L 4548.535032531645 1983.4848539845082" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4296.513742971829" y="2012.980819888501" width="155.39654595695313" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4300.471888386829" y="2036.7296923785009" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ProductNotFoundError</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 2047.284746818501 L 4225.795156346399 2047.284746818501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(4222.496701833899,2047.284746818501) translate(-4222.496701833899,-2047.284746818501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4245.104404298832 2037.1992585724938 L 4224.968724693633 2047.284746818501 L 4245.104404298832 2057.370235064508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3656.0006395392115" y="2086.866200968501" width="104.90267999015624" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3659.9587849542118" y="2110.615073458501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">404 Not Found</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4222.496701833899 2121.170127898501 L 3197.7057117471804 2121.170127898501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3194.4072572346804,2121.170127898501) translate(-3194.4072572346804,-2121.170127898501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3217.014959699614 2111.084639652494 L 3196.8792800944143 2121.170127898501 L 3217.014959699614 2131.255616144508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5353.6361383534695" y="2231.9981995185008" width="91.04438836417968" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5357.59428376847" y="2255.7470720085007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Product data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5729.424069320423 2266.302126448501 L 5072.191050263196 2266.302126448501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5068.892595750696,2266.302126448501) translate(-5068.892595750696,-2266.302126448501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5091.500298215629 2256.216638202494 L 5071.36461861043 2266.302126448501 L 5091.500298215629 2276.387614694508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4746.59428880718" y="2305.883580598501" width="101.63134820304687" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4750.552434222181" y="2329.632453088501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Product object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 2340.187507528501 L 4529.225784579212 2340.187507528501" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(4525.927330066712,2340.187507528501) translate(-4525.927330066712,-2340.187507528501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4548.535032531645 2330.102019282494 L 4528.399352926445 2340.187507528501 L 4548.535032531645 2350.272995774508" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5082.217021583981" y="2379.768961678501" width="229.56256158195313" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5086.175166998981" y="2403.517834168501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">processAndUpload(file, productId)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 2414.072888608501 L 5864.770820170704 2414.072888608501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5868.069274683204,2414.072888608501) translate(-5868.069274683204,-2414.072888608501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5845.461572218271 2403.987400362494 L 5865.59725182347 2414.072888608501 L 5845.461572218271 2424.1583768545083" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5899.2946440682035" y="2524.900960228501" width="179.04003960929688" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5903.252789483204" y="2548.649832718501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">resize(1200, 1200).webp()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 2559.204887158501 L 6106.261598550001 2559.204887158501" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6109.560053062501,2559.204887158501) translate(-6109.560053062501,-2559.204887158501)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6086.952350597568 2549.119398912494 L 6107.088030202767 2559.204887158501 L 6086.952350597568 2569.2903754045083" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5942.2151686653715" y="2598.786341308501" width="93.19899041496093" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5946.173314080372" y="2622.535213798501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Buffer (large)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6109.560053062501 2633.0902682385013 L 5871.367729195704 2633.0902682385013" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5868.069274683204,2633.0902682385013) translate(-5868.069274683204,-2633.0902682385013)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 2623.004779992494 L 5870.541297542937 2633.0902682385013 L 5890.676977148137 2643.1757564845084" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5936.3262627658105" y="2672.671722388501" width="291.9462285741406" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5940.284408180811" y="2696.420594878501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">putObject('products/123/large.webp', buffer)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 2706.9756493185014 L 6293.231024910059 2706.9756493185014" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6296.529479422559,2706.9756493185014) translate(-6296.529479422559,-2706.9756493185014)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6273.921776957626 2696.8901610724943 L 6294.057456562826 2706.9756493185014 L 6273.921776957626 2717.0611375645085" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5981.780768686221" y="2746.5571034685013" width="81.24484307609374" height="34.30392693"/><rect fill="white" stroke="none" x="5981.780768686221" y="2746.5571034685013" width="16.062317441328126" height="34.30392693"/><rect fill="white" stroke="none" x="5981.780768686221" y="2746.5571034685013" width="119.56263787589843" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5985.738914101221" y="2770.305975958501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">URL: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6059.067466347315" y="2770.305975958501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6067.213492958643" y="2770.305975958501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cdn.../large.webp</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6296.529479422559 2780.8610303985015 L 5871.367729195704 2780.8610303985015" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5868.069274683204,2780.8610303985015) translate(-5868.069274683204,-2780.8610303985015)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 2770.7755421524944 L 5870.541297542937 2780.8610303985015 L 5890.676977148137 2790.9465186445086" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5907.447827051602" y="2820.4424845485014" width="162.7336736425" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5911.405972466602" y="2844.1913570385013" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">resize(600, 600).webp()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 2854.7464114785016 L 6106.261598550001 2854.7464114785016" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6109.560053062501,2854.7464114785016) translate(-6109.560053062501,-2854.7464114785016)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6086.952350597568 2844.6609232324945 L 6107.088030202767 2854.7464114785016 L 6086.952350597568 2864.8318997245087" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5932.444225977383" y="2894.3278656285015" width="112.7408757909375" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5936.402371392383" y="2918.0767381185015" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Buffer (medium)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6109.560053062501 2928.6317925585017 L 5871.367729195704 2928.6317925585017" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5868.069274683204,2928.6317925585017) translate(-5868.069274683204,-2928.6317925585017)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 2918.5463043124946 L 5870.541297542937 2928.6317925585017 L 5890.676977148137 2938.717280804509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5926.555320077822" y="2968.2132467085016" width="311.48812920890623" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5930.513465492822" y="2991.9621191985016" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">putObject('products/123/medium.webp', buffer)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 3002.517173638502 L 6293.231024910059 3002.517173638502" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6296.529479422559,3002.517173638502) translate(-6296.529479422559,-3002.517173638502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6273.921776957626 2992.4316853924947 L 6294.057456562826 3002.517173638502 L 6273.921776957626 3012.602661884509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5972.009825998232" y="3042.0986277885017" width="81.24484307609374" height="34.30392693"/><rect fill="white" stroke="none" x="5972.009825998232" y="3042.0986277885017" width="16.062317441328126" height="34.30392693"/><rect fill="white" stroke="none" x="5972.009825998232" y="3042.0986277885017" width="139.104523251875" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5975.967971413233" y="3065.8475002785017" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">URL: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6049.296523659326" y="3065.8475002785017" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6057.4425502706545" y="3065.8475002785017" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cdn.../medium.webp</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6296.529479422559 3076.402554718502 L 5871.367729195704 3076.402554718502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5868.069274683204,3076.402554718502) translate(-5868.069274683204,-3076.402554718502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 3066.317066472495 L 5870.541297542937 3076.402554718502 L 5890.676977148137 3086.488042964509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5907.447827051602" y="3115.984008868502" width="162.7336736425" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5911.405972466602" y="3139.732881358502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">resize(300, 300).webp()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 3150.287935798502 L 6106.261598550001 3150.287935798502" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6109.560053062501,3150.287935798502) translate(-6109.560053062501,-3150.287935798502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6086.952350597568 3140.202447552495 L 6107.088030202767 3150.287935798502 L 6086.952350597568 3160.373424044509" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5926.731991480313" y="3189.869389948502" width="124.16534478507812" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5930.690136895313" y="3213.618262438502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Buffer (thumbnail)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6109.560053062501 3224.173316878502 L 5871.367729195704 3224.173316878502" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5868.069274683204,3224.173316878502) translate(-5868.069274683204,-3224.173316878502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 3214.087828632495 L 5870.541297542937 3224.173316878502 L 5890.676977148137 3234.2588051245093" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5932.253241830752" y="3263.754771028502" width="300.09225518546873" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5936.211387245752" y="3287.503643518502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">putObject('products/123/thumb.webp', buffer)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 3298.0586979585023 L 6293.231024910059 3298.0586979585023" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6296.529479422559,3298.0586979585023) translate(-6296.529479422559,-3298.0586979585023)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6273.921776957626 3287.973209712495 L 6294.057456562826 3298.0586979585023 L 6273.921776957626 3308.1441862045094" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5977.707747751162" y="3337.640152108502" width="81.24484307609374" height="34.30392693"/><rect fill="white" stroke="none" x="5977.707747751162" y="3337.640152108502" width="16.062317441328126" height="34.30392693"/><rect fill="white" stroke="none" x="5977.707747751162" y="3337.640152108502" width="127.70867974601562" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5981.665893166162" y="3361.389024598502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">URL: https:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6054.994445412256" y="3361.389024598502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">//</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="6063.140472023584" y="3361.389024598502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cdn.../thumb.webp</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6296.529479422559 3371.9440790385024 L 5871.367729195704 3371.9440790385024" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5868.069274683204,3371.9440790385024) translate(-5868.069274683204,-3371.9440790385024)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 3361.8585907924953 L 5870.541297542937 3371.9440790385024 L 5890.676977148137 3382.0295672845095" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5899.2946440682035" y="3451.106987338502" width="160.26409966789063" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5903.252789483204" y="3474.855859828502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">fs.unlinkSync(tempFile)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 3485.410914268502 L 5973.619819083204 3485.410914268502 L 5973.619819083204 3519.714841198502 L 5871.367729195704 3519.714841198502" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5868.069274683204,3519.714841198502) translate(-5868.069274683204,-3519.714841198502)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5890.676977148137 3509.629352952495 L 5870.541297542937 3519.714841198502 L 5890.676977148137 3529.8003294445093" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5130.706599831051" y="3559.296295348502" width="132.5834050878125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5134.664745246051" y="3583.045167838502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Image URLs object</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5868.069274683204 3593.6002222785023 L 4529.225784579212 3593.6002222785023" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(4525.927330066712,3593.6002222785023) translate(-4525.927330066712,-3593.6002222785023)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4548.535032531645 3583.514734032495 L 4528.399352926445 3593.6002222785023 L 4548.535032531645 3603.6857105245094" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4658.995884876516" y="3633.181676428502" width="276.828156064375" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4662.954030291517" y="3656.930548918502" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.productImage.create({ data: {...} })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 3667.4856033585024 L 5065.594141238196 3667.4856033585024" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5068.892595750696,3667.4856033585024) translate(-5068.892595750696,-3667.4856033585024)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5046.284893285763 3657.4001151124953 L 5066.420572890963 3667.4856033585024 L 5046.284893285763 3677.5710916045095" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5100.117965135696" y="3707.0670575085023" width="598.0806585057812" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5104.076110550696" y="3730.8159299985023" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">INSERT INTO product_images (product_id, url_large, url_medium, url_thumb, size, format)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 3741.3709844385025 L 5726.125614807923 3741.3709844385025" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5729.424069320423,3741.3709844385025) translate(-5729.424069320423,-3741.3709844385025)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5706.81636685549 3731.2854961924954 L 5726.952046460689 3741.3709844385025 L 5706.81636685549 3751.4564726845097" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5325.529494676712" y="3780.9524385885024" width="147.25767571769532" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5329.487640091712" y="3804.7013110785024" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Image record created</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5729.424069320423 3815.2563655185027 L 5072.191050263196 3815.2563655185027" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5068.892595750696,3815.2563655185027) translate(-5068.892595750696,-3815.2563655185027)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5091.500298215629 3805.1708772724955 L 5071.36461861043 3815.2563655185027 L 5091.500298215629 3825.34185376451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4557.152699451712" y="3926.0844371385024" width="480.5145574315625" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4561.110844866712" y="3949.8333096285023" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.productImage.findMany({ where: { product_id, is_primary: true } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 3960.3883640685026 L 5065.594141238196 3960.3883640685026" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5068.892595750696,3960.3883640685026) translate(-5068.892595750696,-3960.3883640685026)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5046.284893285763 3950.3028758224955 L 5066.420572890963 3960.3883640685026 L 5046.284893285763 3970.4738523145097" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5131.635474596145" y="3999.9698182185025" width="535.04568536125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5135.5936200111455" y="4023.7186907085024" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SELECT * FROM product_images WHERE product_id = ? AND is_primary = true</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 4034.2737451485027 L 5726.125614807923 4034.2737451485027" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5729.424069320423,4034.2737451485027) translate(-5729.424069320423,-4034.2737451485027)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5706.81636685549 4024.1882569024956 L 5726.952046460689 4034.2737451485027 L 5706.81636685549 4044.35923339451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5361.792891893509" y="4073.8551992985026" width="74.73088128410156" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5365.751037308509" y="4097.604071788503" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Old image</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5729.424069320423 4108.159126228503 L 5072.191050263196 4108.159126228503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5068.892595750696,4108.159126228503) translate(-5068.892595750696,-4108.159126228503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5091.500298215629 4098.073637982496 L 5071.36461861043 4108.159126228503 L 5091.500298215629 4118.24461447451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5323.347598501999" y="4147.740580378503" width="175.76161248527345" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5327.305743916999" y="4171.489452868504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">deleteObjects([old URLs])</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 4182.044507308503 L 6293.231024910059 4182.044507308503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(6296.529479422559,4182.044507308503) translate(-6296.529479422559,-4182.044507308503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6273.921776957626 4171.959019062496 L 6294.057456562826 4182.044507308503 L 6273.921776957626 4192.12999555451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5382.0054125278775" y="4221.625961458503" width="58.445984433515626" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5385.963557942878" y="4245.374833948504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Deleted</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6296.529479422559 4255.929888388503 L 4529.225784579212 4255.929888388503" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(4525.927330066712,4255.929888388503) translate(-4525.927330066712,-4255.929888388503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4548.535032531645 4245.844400142496 L 4528.399352926445 4255.929888388503 L 4548.535032531645 4266.01537663451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4609.6902437022" y="4295.511342538503" width="375.43942315421873" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4613.6483891172" y="4319.260215028504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.productImage.delete({ where: { id: oldImageId } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 4329.815269468503 L 5065.594141238196 4329.815269468503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5068.892595750696,4329.815269468503) translate(-5068.892595750696,-4329.815269468503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5046.284893285763 4319.729781222496 L 5066.420572890963 4329.815269468503 L 5046.284893285763 4339.90075771451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5239.38775578511" y="4369.3967236185035" width="319.5411687596875" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5243.34590120011" y="4393.145596108504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DELETE FROM product_images WHERE id = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 4403.700650548503 L 5726.125614807923 4403.700650548503" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5729.424069320423,4403.700650548503) translate(-5729.424069320423,-4403.700650548503)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5706.81636685549 4393.615162302496 L 5726.952046460689 4403.700650548503 L 5706.81636685549 4413.78613879451" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4612.134770374563" y="4482.863558848504" width="370.55038506828123" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4616.092915789563" y="4506.612431338504" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">prisma.product.update({ data: { image_url: largeURL } })</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 4517.167485778504 L 5065.594141238196 4517.167485778504" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5068.892595750696,4517.167485778504) translate(-5068.892595750696,-4517.167485778504)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5046.284893285763 4507.081997532497 L 5066.420572890963 4517.167485778504 L 5046.284893285763 4527.252974024511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5272.916755113723" y="4556.748939928504" width="252.48315484367188" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5276.874900528724" y="4580.4978124185045" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">UPDATE products SET image_url = ?</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5068.892595750696 4591.052866858504 L 5726.125614807923 4591.052866858504" stroke-miterlimit="10" stroke-width="2.1989696750000003"/><g transform="translate(5729.424069320423,4591.052866858504) translate(-5729.424069320423,-4591.052866858504)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5706.81636685549 4580.967378612497 L 5726.952046460689 4591.052866858504 L 5706.81636685549 4601.138355104511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="5341.406363878372" y="4630.634321008504" width="115.503937314375" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="5345.364509293372" y="4654.383193498505" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Product updated</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5729.424069320423 4664.938247938504 L 5072.191050263196 4664.938247938504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(5068.892595750696,4664.938247938504) translate(-5068.892595750696,-4664.938247938504)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5091.500298215629 4654.852759692497 L 5071.36461861043 4664.938247938504 L 5091.500298215629 4675.023736184511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="4333.578859854153" y="4704.519702088504" width="81.26631219230468" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="4337.537005269153" y="4728.268574578505" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Image data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4525.927330066712 4738.823629018504 L 4225.795156346399 4738.823629018504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(4222.496701833899,4738.823629018504) translate(-4222.496701833899,-4738.823629018504)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4245.104404298832 4728.738140772497 L 4224.968724693633 4738.823629018504 L 4245.104404298832 4748.909117264511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="3576.3406816534693" y="4778.4050831685045" width="264.2225957616406" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="3580.2988270684696" y="4802.153955658505" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">201 Created + { image_urls, metadata }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4222.496701833899 4812.709010098504 L 3197.7057117471804 4812.709010098504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(3194.4072572346804,4812.709010098504) translate(-3194.4072572346804,-4812.709010098504)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3217.014959699614 4802.623521852497 L 3196.8792800944143 4812.709010098504 L 3217.014959699614 4822.794498344511" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><rect fill="white" stroke="none" x="1611.5262822736292" y="4852.290464248505" width="169.26196343742188" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1615.4844276886292" y="4876.039336738505" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Image preview displayed</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 3194.4072572346804 4886.594391178504 L 201.20572526250004 4886.594391178504" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(197.90727075000004,4886.594391178504) translate(-197.90727075000004,-4886.594391178504)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 220.5149732149335 4876.508902932497 L 200.37929360973382 4886.594391178504 L 220.5149732149335 4896.6798794245115" stroke-miterlimit="10" stroke-width="2.1989696750000003"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 416.5288358385001 L 6494.436750172559 416.5288358385001 L 6494.436750172559 5044.920207778507 L 26.38763610000001 5044.920207778507 L 26.38763610000001 416.5288358385001 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 416.5288358385001 L 26.38763610000001 448.19399915850005 L 92.85170529707032 448.19399915850005 L 108.68428695707033 432.3614174985001 L 108.68428695707033 416.5288358385001 L 26.38763610000001 416.5288358385001" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="52.77527220000001" y="437.63894471850006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="131.11377764207035" y="418.6398467265001" width="87.42016656242187" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="437.63894471850006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Non autorisé]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 26.38763610000001 561.6608343885001 L 6494.436750172559 561.6608343885001" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="131.11377764207035" y="563.7718452765001" width="63.307251523359376" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="135.07192305707034" y="582.7709432685001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Autorisé]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 814.9821409485002 L 6468.049114072559 814.9821409485002 L 6468.049114072559 5005.338753628505 L 52.77527220000002 5005.338753628505 L 52.77527220000002 814.9821409485002 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 814.9821409485002 L 52.77527220000002 846.6473042685002 L 119.23934139707033 846.6473042685002 L 135.07192305707034 830.8147226085001 L 135.07192305707034 814.9821409485002 L 52.77527220000002 814.9821409485002" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="79.16290830000003" y="836.0922498285001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="157.50141374207035" y="817.0931518365002" width="89.17279107414062" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="836.0922498285001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Type invalide]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 52.77527220000002 960.1141394985002 L 6468.049114072559 960.1141394985002" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="157.50141374207035" y="962.2251503865002" width="78.7486882909375" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="161.45955915707034" y="981.2242483785002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Type valide]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.16290830000003 1139.5500649785004 L 6441.66147797256 1139.5500649785004 L 6441.66147797256 4965.757299478505 L 79.16290830000003 4965.757299478505 L 79.16290830000003 1139.5500649785004 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 79.16290830000003 1139.5500649785004 L 79.16290830000003 1171.2152282985003 L 145.62697749707036 1171.2152282985003 L 161.45955915707034 1155.3826466385003 L 161.45955915707034 1139.5500649785004 L 79.16290830000003 1139.5500649785004" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="105.55054440000004" y="1160.6601738585002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="183.88904984207036" y="1141.6610758665001" width="101.578644345625" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="187.84719525707035" y="1160.6601738585002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Taille dépassée]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 79.16290830000003 1284.6820635285005 L 6441.66147797256 1284.6820635285005" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="183.88904984207036" y="1286.7930744165003" width="65.70134026847656" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="187.84719525707035" y="1305.7921724085004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Taille OK]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 105.55054440000004 1759.6595133285011 L 6415.273841872559 1759.6595133285011 L 6415.273841872559 4926.175845328505 L 105.55054440000004 4926.175845328505 L 105.55054440000004 1759.6595133285011 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 105.55054440000004 1759.6595133285011 L 105.55054440000004 1791.324676648501 L 172.01461359707037 1791.324676648501 L 187.84719525707035 1775.492094988501 L 187.84719525707035 1759.6595133285011 L 105.55054440000004 1759.6595133285011" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="131.93818050000004" y="1780.769622208501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="210.27668594207037" y="1761.770524216501" width="120.63983208976562" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="214.23483135707036" y="1780.769622208501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Produit non trouvé]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 105.55054440000004 2160.751582048501 L 6415.273841872559 2160.751582048501" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="210.27668594207037" y="2162.862592936501" width="93.29660088859374" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="214.23483135707036" y="2181.861690928501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Produit existe]</text></g><g/><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 5775.712548333204 2453.654342758501 L 6388.886205772559 2453.654342758501 L 6388.886205772559 3411.5255331885023 L 5775.712548333204 3411.5255331885023 L 5775.712548333204 2453.654342758501 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 5775.712548333204 2453.654342758501 L 5775.712548333204 2485.319506078501 L 5846.741467383789 2485.319506078501 L 5862.574049043789 2469.486924418501 L 5862.574049043789 2453.654342758501 L 5775.712548333204 2453.654342758501" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="5802.100184433204" y="2474.764451638501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">par</text><g><rect fill="white" stroke="none" x="5885.003539728789" y="2455.7653536465014" width="204.15300042472657" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="5888.9616851437895" y="2474.764451638501" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Traitement parallèle des variantes]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 4433.570603716712 3854.8378196685026 L 6388.886205772559 3854.8378196685026 L 6388.886205772559 4443.282104698504 L 4433.570603716712 4443.282104698504 L 4433.570603716712 3854.8378196685026 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 4433.570603716712 3854.8378196685026 L 4433.570603716712 3886.5029829885025 L 4500.034672913782 3886.5029829885025 L 4515.867254573782 3870.6704013285025 L 4515.867254573782 3854.8378196685026 L 4433.570603716712 3854.8378196685026" stroke-miterlimit="10" stroke-width="3.7696623000000002"/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="4459.958239816712" y="3875.9479285485027" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="4538.296745258782" y="3856.948830556503" width="142.20404107414063" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="4542.254890673782" y="3875.9479285485027" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Ancienne image existe]</text></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>